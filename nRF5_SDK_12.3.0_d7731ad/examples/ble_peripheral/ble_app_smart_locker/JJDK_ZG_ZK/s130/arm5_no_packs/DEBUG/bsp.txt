; generated by Component: ARM Compiler 5.05 (build 41) Tool: ArmCC [4d0eb9]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\debug\bsp.o --asm_dir=.\DEBUG\ --list_dir=.\DEBUG\ --depend=.\debug\bsp.d --cpu=Cortex-M0 --apcs=interwork -O0 -I..\..\..\config -I..\..\..\..\..\..\components -I..\..\..\..\..\..\components\ble\ble_advertising -I..\..\..\..\..\..\components\ble\ble_dtm -I..\..\..\..\..\..\components\ble\ble_racp -I..\..\..\..\..\..\components\ble\ble_services\ble_ancs_c -I..\..\..\..\..\..\components\ble\ble_services\ble_ans_c -I..\..\..\..\..\..\components\ble\ble_services\ble_bas -I..\..\..\..\..\..\components\ble\ble_services\ble_bas_c -I..\..\..\..\..\..\components\ble\ble_services\ble_cscs -I..\..\..\..\..\..\components\ble\ble_services\ble_cts_c -I..\..\..\..\..\..\components\ble\ble_services\ble_dfu -I..\..\..\..\..\..\components\ble\ble_services\ble_dis -I..\..\..\..\..\..\components\ble\ble_services\ble_gls -I..\..\..\..\..\..\components\ble\ble_services\ble_hids -I..\..\..\..\..\..\components\ble\ble_services\ble_hrs -I..\..\..\..\..\..\components\ble\ble_services\ble_hrs_c -I..\..\..\..\..\..\components\ble\ble_services\ble_hts -I..\..\..\..\..\..\components\ble\ble_services\ble_ias -I..\..\..\..\..\..\components\ble\ble_services\ble_ias_c -I..\..\..\..\..\..\components\ble\ble_services\ble_lbs -I..\..\..\..\..\..\components\ble\ble_services\ble_lbs_c -I..\..\..\..\..\..\components\ble\ble_services\ble_lls -I..\..\..\..\..\..\components\ble\ble_services\ble_nus -I..\..\..\..\..\..\components\ble\ble_services\ble_nus_c -I..\..\..\..\..\..\components\ble\ble_services\ble_rscs -I..\..\..\..\..\..\components\ble\ble_services\ble_rscs_c -I..\..\..\..\..\..\components\ble\ble_services\ble_tps -I..\..\..\..\..\..\components\ble\common -I..\..\..\..\..\..\components\ble\nrf_ble_qwr -I..\..\..\..\..\..\components\ble\peer_manager -I..\..\..\..\..\..\components\boards -I..\..\..\..\..\..\components\drivers_nrf\adc -I..\..\..\..\..\..\components\drivers_nrf\clock -I..\..\..\..\..\..\components\drivers_nrf\common -I..\..\..\..\..\..\components\drivers_nrf\comp -I..\..\..\..\..\..\components\drivers_nrf\delay -I..\..\..\..\..\..\components\drivers_nrf\gpiote -I..\..\..\..\..\..\components\drivers_nrf\hal -I..\..\..\..\..\..\components\drivers_nrf\i2s -I..\..\..\..\..\..\components\drivers_nrf\lpcomp -I..\..\..\..\..\..\components\drivers_nrf\pdm -I..\..\..\..\..\..\components\drivers_nrf\power -I..\..\..\..\..\..\components\drivers_nrf\ppi -I..\..\..\..\..\..\components\drivers_nrf\pwm -I..\..\..\..\..\..\components\drivers_nrf\qdec -I..\..\..\..\..\..\components\drivers_nrf\rng -I..\..\..\..\..\..\components\drivers_nrf\rtc -I..\..\..\..\..\..\components\drivers_nrf\saadc -I..\..\..\..\..\..\components\drivers_nrf\spi_master -I..\..\..\..\..\..\components\drivers_nrf\spi_slave -I..\..\..\..\..\..\components\drivers_nrf\swi -I..\..\..\..\..\..\components\drivers_nrf\timer -I..\..\..\..\..\..\components\drivers_nrf\twi_master -I..\..\..\..\..\..\components\drivers_nrf\twis_slave -I..\..\..\..\..\..\components\drivers_nrf\uart -I..\..\..\..\..\..\components\drivers_nrf\usbd -I..\..\..\..\..\..\components\drivers_nrf\wdt -I..\..\..\..\..\..\components\libraries\bsp -I..\..\..\..\..\..\components\libraries\button -I..\..\..\..\..\..\components\libraries\crc16 -I..\..\..\..\..\..\components\libraries\crc32 -I..\..\..\..\..\..\components\libraries\csense -I..\..\..\..\..\..\components\libraries\csense_drv -I..\..\..\..\..\..\components\libraries\experimental_section_vars -I..\..\..\..\..\..\components\libraries\fds -I..\..\..\..\..\..\components\libraries\fstorage -I..\..\..\..\..\..\components\libraries\gpiote -I..\..\..\..\..\..\components\libraries\hardfault -I..\..\..\..\..\..\components\libraries\hci -I..\..\..\..\..\..\components\libraries\led_softblink -I..\..\..\..\..\..\components\libraries\log -I..\..\..\..\..\..\components\libraries\log\src -I..\..\..\..\..\..\components\libraries\low_power_pwm -I..\..\..\..\..\..\components\libraries\mem_manager -I..\..\..\..\..\..\components\libraries\pwm -I..\..\..\..\..\..\components\libraries\queue -I..\..\..\..\..\..\components\libraries\scheduler -I..\..\..\..\..\..\components\libraries\sensorsim -I..\..\..\..\..\..\components\libraries\slip -I..\..\..\..\..\..\components\libraries\timer -I..\..\..\..\..\..\components\libraries\twi -I..\..\..\..\..\..\components\libraries\uart -I..\..\..\..\..\..\components\libraries\usbd -I..\..\..\..\..\..\components\libraries\usbd\class\audio -I..\..\..\..\..\..\components\libraries\usbd\class\cdc -I..\..\..\..\..\..\components\libraries\usbd\class\cdc\acm -I..\..\..\..\..\..\components\libraries\usbd\class\hid -I..\..\..\..\..\..\components\libraries\usbd\class\hid\generic -I..\..\..\..\..\..\components\libraries\usbd\class\hid\kbd -I..\..\..\..\..\..\components\libraries\usbd\class\hid\mouse -I..\..\..\..\..\..\components\libraries\usbd\class\msc -I..\..\..\..\..\..\components\libraries\usbd\config -I..\..\..\..\..\..\components\libraries\util -I..\..\..\..\..\..\components\softdevice\common\softdevice_handler -I..\..\..\..\..\..\components\softdevice\s130\headers -I..\..\..\..\..\..\components\softdevice\s130\headers\nrf51 -I..\..\..\..\..\..\components\toolchain -I..\..\..\..\..\..\external\segger_rtt -I..\config -I..\..\..\..\..\..\components\ble\ble_services\ble_sls -ID:\development\nordic_ble\src_code\nrf51_sdk_v12_3_0\nRF5_SDK_12.3.0_d7731ad\examples\ble_peripheral\ble_app_smart_locker\JJDK_ZG_ZK\s130\arm5_no_packs\RTE -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\4.2.0\CMSIS\Include -IC:\Keil_v5\ARM\PACK\NordicSemiconductor\nRF_DeviceFamilyPack\8.11.1\Device\Include -D__MICROLIB -D_RTE_ -DNRF51 -DBLE_STACK_SUPPORT_REQD -DNRF51822 -DBOARD_JJDK_ZG_ZK -DNRF_SD_BLE_API_VERSION=2 -DS130 -DNRF51 -DSOFTDEVICE_PRESENT -DSWI_DISABLE0 --omf_browse=.\debug\bsp.crf ..\..\..\..\..\..\components\libraries\bsp\bsp.c]
                          THUMB

                          AREA ||i.alert_timer_handler||, CODE, READONLY, ALIGN=1

                  alert_timer_handler PROC
;;;422     */
;;;423    static void alert_timer_handler(void * p_context)
000000  b510              PUSH     {r4,lr}
;;;424    {
000002  4604              MOV      r4,r0
;;;425        UNUSED_PARAMETER(p_context);
;;;426        bsp_board_led_invert(BSP_LED_ALERT);
000004  2002              MOVS     r0,#2
000006  f7fffffe          BL       bsp_board_led_invert
;;;427    }
00000a  bd10              POP      {r4,pc}
;;;428    #endif // #if LEDS_NUMBER > 0 && !(defined BSP_SIMPLE)
                          ENDP


                          AREA ||i.bsp_button_event_handler||, CODE, READONLY, ALIGN=2

                  bsp_button_event_handler PROC
;;;124     */
;;;125    static void bsp_button_event_handler(uint8_t pin_no, uint8_t button_action)
000000  b5f3              PUSH     {r0,r1,r4-r7,lr}
;;;126    {
000002  b081              SUB      sp,sp,#4
000004  4607              MOV      r7,r0
;;;127        bsp_event_t        event  = BSP_EVENT_NOTHING;
000006  2500              MOVS     r5,#0
;;;128        uint32_t           button = 0;
000008  2400              MOVS     r4,#0
;;;129        uint32_t           err_code;
;;;130        static uint8_t     current_long_push_pin_no;              /**< Pin number of a currently pushed button, that could become a long push if held long enough. */
;;;131        static bsp_event_t release_event_at_push[BUTTONS_NUMBER]; /**< Array of what the release event of each button was last time it was pushed, so that no release event is sent if the event was bound after the push of the button. */
;;;132    
;;;133        button = bsp_board_pin_to_button_idx(pin_no);
00000a  4638              MOV      r0,r7
00000c  f7fffffe          BL       bsp_board_pin_to_button_idx
000010  4604              MOV      r4,r0
;;;134    
;;;135        if (button < BUTTONS_NUMBER)
000012  2c03              CMP      r4,#3
000014  d242              BCS      |L2.156|
;;;136        {
;;;137            switch (button_action)
000016  9802              LDR      r0,[sp,#8]
000018  2800              CMP      r0,#0
00001a  d025              BEQ      |L2.104|
00001c  2801              CMP      r0,#1
00001e  d002              BEQ      |L2.38|
000020  2802              CMP      r0,#2
000022  d13a              BNE      |L2.154|
000024  e033              B        |L2.142|
                  |L2.38|
;;;138            {
;;;139                case APP_BUTTON_PUSH:
;;;140                    event = m_events_list[button].push_event;
000026  0060              LSLS     r0,r4,#1
000028  1820              ADDS     r0,r4,r0
00002a  4922              LDR      r1,|L2.180|
00002c  5c0d              LDRB     r5,[r1,r0]
;;;141                    if (m_events_list[button].long_push_event != BSP_EVENT_NOTHING)
00002e  0060              LSLS     r0,r4,#1
000030  1820              ADDS     r0,r4,r0
000032  1840              ADDS     r0,r0,r1
000034  7840              LDRB     r0,[r0,#1]
000036  2800              CMP      r0,#0
000038  d00e              BEQ      |L2.88|
;;;142                    {
;;;143                        err_code = app_timer_start(m_button_timer_id, BSP_MS_TO_TICK(BSP_LONG_PUSH_TIMEOUT_MS), (void*)&current_long_push_pin_no);
00003a  481f              LDR      r0,|L2.184|
00003c  6800              LDR      r0,[r0,#0]  ; m_app_ticks_per_100ms
00003e  220a              MOVS     r2,#0xa
000040  4350              MULS     r0,r2,r0
000042  4601              MOV      r1,r0
000044  4a1d              LDR      r2,|L2.188|
000046  481e              LDR      r0,|L2.192|
000048  6800              LDR      r0,[r0,#0]  ; m_button_timer_id
00004a  f7fffffe          BL       app_timer_start
00004e  4606              MOV      r6,r0
;;;144                        if (err_code == NRF_SUCCESS)
000050  2e00              CMP      r6,#0
000052  d101              BNE      |L2.88|
;;;145                        {
;;;146                            current_long_push_pin_no = pin_no;
000054  4819              LDR      r0,|L2.188|
000056  7007              STRB     r7,[r0,#0]
                  |L2.88|
;;;147                        }
;;;148                    }
;;;149                    release_event_at_push[button] = m_events_list[button].release_event;
000058  0060              LSLS     r0,r4,#1
00005a  1820              ADDS     r0,r4,r0
00005c  4915              LDR      r1,|L2.180|
00005e  1840              ADDS     r0,r0,r1
000060  7880              LDRB     r0,[r0,#2]
000062  4918              LDR      r1,|L2.196|
000064  5508              STRB     r0,[r1,r4]
;;;150                    break;
000066  e018              B        |L2.154|
                  |L2.104|
;;;151                case APP_BUTTON_RELEASE:
;;;152                    (void)app_timer_stop(m_button_timer_id);
000068  4815              LDR      r0,|L2.192|
00006a  6800              LDR      r0,[r0,#0]  ; m_button_timer_id
00006c  f7fffffe          BL       app_timer_stop
;;;153                    if (release_event_at_push[button] == m_events_list[button].release_event)
000070  4814              LDR      r0,|L2.196|
000072  5d00              LDRB     r0,[r0,r4]
000074  0061              LSLS     r1,r4,#1
000076  1861              ADDS     r1,r4,r1
000078  4a0e              LDR      r2,|L2.180|
00007a  1889              ADDS     r1,r1,r2
00007c  7889              LDRB     r1,[r1,#2]
00007e  4288              CMP      r0,r1
000080  d104              BNE      |L2.140|
;;;154                    {
;;;155                        event = m_events_list[button].release_event;
000082  0060              LSLS     r0,r4,#1
000084  1820              ADDS     r0,r4,r0
000086  4611              MOV      r1,r2
000088  1840              ADDS     r0,r0,r1
00008a  7885              LDRB     r5,[r0,#2]
                  |L2.140|
;;;156                    }
;;;157                    break;
00008c  e005              B        |L2.154|
                  |L2.142|
;;;158                case BSP_BUTTON_ACTION_LONG_PUSH:
;;;159                    event = m_events_list[button].long_push_event;
00008e  0060              LSLS     r0,r4,#1
000090  1820              ADDS     r0,r4,r0
000092  4908              LDR      r1,|L2.180|
000094  1840              ADDS     r0,r0,r1
000096  7845              LDRB     r5,[r0,#1]
000098  bf00              NOP                            ;137
                  |L2.154|
00009a  bf00              NOP                            ;150
                  |L2.156|
;;;160            }
;;;161        }
;;;162    
;;;163        if ((event != BSP_EVENT_NOTHING) && (m_registered_callback != NULL))
00009c  2d00              CMP      r5,#0
00009e  d007              BEQ      |L2.176|
0000a0  4809              LDR      r0,|L2.200|
0000a2  6800              LDR      r0,[r0,#0]  ; m_registered_callback
0000a4  2800              CMP      r0,#0
0000a6  d003              BEQ      |L2.176|
;;;164        {
;;;165            m_registered_callback(event);
0000a8  4628              MOV      r0,r5
0000aa  4907              LDR      r1,|L2.200|
0000ac  6809              LDR      r1,[r1,#0]  ; m_registered_callback
0000ae  4788              BLX      r1
                  |L2.176|
;;;166        }
;;;167    }
0000b0  bdfe              POP      {r1-r7,pc}
;;;168    
                          ENDP

0000b2  0000              DCW      0x0000
                  |L2.180|
                          DCD      m_events_list
                  |L2.184|
                          DCD      m_app_ticks_per_100ms
                  |L2.188|
                          DCD      current_long_push_pin_no
                  |L2.192|
                          DCD      m_button_timer_id
                  |L2.196|
                          DCD      release_event_at_push
                  |L2.200|
                          DCD      m_registered_callback

                          AREA ||i.bsp_button_is_pressed||, CODE, READONLY, ALIGN=1

                  bsp_button_is_pressed PROC
;;;112    #if (BUTTONS_NUMBER > 0)
;;;113    bool bsp_button_is_pressed(uint32_t button)
000000  b510              PUSH     {r4,lr}
;;;114    {
000002  4604              MOV      r4,r0
;;;115        return bsp_board_button_state_get(button);
000004  4620              MOV      r0,r4
000006  f7fffffe          BL       bsp_board_button_state_get
;;;116    }
00000a  bd10              POP      {r4,pc}
;;;117    #endif
                          ENDP


                          AREA ||i.bsp_buttons_disable||, CODE, READONLY, ALIGN=1

                  bsp_buttons_disable PROC
;;;595    
;;;596    uint32_t bsp_buttons_disable()
000000  b510              PUSH     {r4,lr}
;;;597    {
;;;598    #if (BUTTONS_NUMBER > 0) && !defined(BSP_SIMPLE)
;;;599        return app_button_disable();
000002  f7fffffe          BL       app_button_disable
;;;600    #else
;;;601        return NRF_ERROR_NOT_SUPPORTED;
;;;602    #endif
;;;603    }
000006  bd10              POP      {r4,pc}
;;;604    
                          ENDP


                          AREA ||i.bsp_buttons_enable||, CODE, READONLY, ALIGN=1

                  bsp_buttons_enable PROC
;;;586    
;;;587    uint32_t bsp_buttons_enable()
000000  b510              PUSH     {r4,lr}
;;;588    {
;;;589    #if (BUTTONS_NUMBER > 0) && !defined(BSP_SIMPLE)
;;;590        return app_button_enable();
000002  f7fffffe          BL       app_button_enable
;;;591    #else
;;;592        return NRF_ERROR_NOT_SUPPORTED;
;;;593    #endif
;;;594    }
000006  bd10              POP      {r4,pc}
;;;595    
                          ENDP


                          AREA ||i.bsp_event_to_button_action_assign||, CODE, READONLY, ALIGN=2

                  bsp_event_to_button_action_assign PROC
;;;544     */
;;;545    uint32_t bsp_event_to_button_action_assign(uint32_t button, bsp_button_action_t action, bsp_event_t event)
000000  b530              PUSH     {r4,r5,lr}
;;;546    {
000002  4603              MOV      r3,r0
;;;547        uint32_t err_code = NRF_SUCCESS;
000004  2000              MOVS     r0,#0
;;;548    
;;;549    #if BUTTONS_NUMBER > 0
;;;550        if (button < BUTTONS_NUMBER)
000006  2b03              CMP      r3,#3
000008  d224              BCS      |L6.84|
;;;551        {
;;;552            if (event == BSP_EVENT_DEFAULT)
00000a  2a01              CMP      r2,#1
00000c  d107              BNE      |L6.30|
;;;553            {
;;;554                // Setting default action: BSP_EVENT_KEY_x for PUSH actions, BSP_EVENT_NOTHING for RELEASE and LONG_PUSH actions.
;;;555                event = (action == BSP_BUTTON_ACTION_PUSH) ? (bsp_event_t)(BSP_EVENT_KEY_0 + button) : BSP_EVENT_NOTHING;
00000e  2901              CMP      r1,#1
000010  d103              BNE      |L6.26|
000012  461c              MOV      r4,r3
000014  340e              ADDS     r4,r4,#0xe
000016  b2e4              UXTB     r4,r4
000018  e000              B        |L6.28|
                  |L6.26|
00001a  2400              MOVS     r4,#0
                  |L6.28|
00001c  4622              MOV      r2,r4
                  |L6.30|
;;;556            }
;;;557            switch (action)
00001e  2900              CMP      r1,#0
000020  d00f              BEQ      |L6.66|
000022  2901              CMP      r1,#1
000024  d002              BEQ      |L6.44|
000026  2902              CMP      r1,#2
000028  d111              BNE      |L6.78|
00002a  e004              B        |L6.54|
                  |L6.44|
;;;558            {
;;;559                case BSP_BUTTON_ACTION_PUSH:
;;;560                    m_events_list[button].push_event = event;
00002c  005c              LSLS     r4,r3,#1
00002e  191c              ADDS     r4,r3,r4
000030  4d09              LDR      r5,|L6.88|
000032  552a              STRB     r2,[r5,r4]
;;;561                    break;
000034  e00d              B        |L6.82|
                  |L6.54|
;;;562                case BSP_BUTTON_ACTION_LONG_PUSH:
;;;563                    m_events_list[button].long_push_event = event;
000036  005c              LSLS     r4,r3,#1
000038  191c              ADDS     r4,r3,r4
00003a  4d07              LDR      r5,|L6.88|
00003c  1964              ADDS     r4,r4,r5
00003e  7062              STRB     r2,[r4,#1]
;;;564                    break;
000040  e007              B        |L6.82|
                  |L6.66|
;;;565                case BSP_BUTTON_ACTION_RELEASE:
;;;566                    m_events_list[button].release_event = event;
000042  005c              LSLS     r4,r3,#1
000044  191c              ADDS     r4,r3,r4
000046  4d04              LDR      r5,|L6.88|
000048  1964              ADDS     r4,r4,r5
00004a  70a2              STRB     r2,[r4,#2]
;;;567                    break;
00004c  e001              B        |L6.82|
                  |L6.78|
;;;568                default:
;;;569                    err_code = NRF_ERROR_INVALID_PARAM;
00004e  2007              MOVS     r0,#7
;;;570                    break;
000050  bf00              NOP      
                  |L6.82|
000052  e000              B        |L6.86|
                  |L6.84|
;;;571            }
;;;572        }
;;;573        else
;;;574        {
;;;575            err_code = NRF_ERROR_INVALID_PARAM;
000054  2007              MOVS     r0,#7
                  |L6.86|
;;;576        }
;;;577    #else
;;;578        err_code = NRF_ERROR_INVALID_PARAM;
;;;579    #endif // BUTTONS_NUMBER > 0
;;;580    
;;;581        return err_code;
;;;582    }
000056  bd30              POP      {r4,r5,pc}
;;;583    
                          ENDP

                  |L6.88|
                          DCD      m_events_list

                          AREA ||i.bsp_indication_set||, CODE, READONLY, ALIGN=2

                  bsp_indication_set PROC
;;;432     */
;;;433    uint32_t bsp_indication_set(bsp_indication_t indicate)
000000  b570              PUSH     {r4-r6,lr}
;;;434    {
000002  4604              MOV      r4,r0
;;;435        uint32_t err_code = NRF_SUCCESS;
000004  2500              MOVS     r5,#0
;;;436    
;;;437    #if LEDS_NUMBER > 0 && !(defined BSP_SIMPLE)
;;;438    
;;;439        if (m_indication_type & BSP_INIT_LED)
000006  4806              LDR      r0,|L7.32|
000008  7800              LDRB     r0,[r0,#0]  ; m_indication_type
00000a  07c0              LSLS     r0,r0,#31
00000c  0fc0              LSRS     r0,r0,#31
00000e  2800              CMP      r0,#0
000010  d003              BEQ      |L7.26|
;;;440        {
;;;441            err_code = bsp_led_indication(indicate);
000012  4620              MOV      r0,r4
000014  f7fffffe          BL       bsp_led_indication
000018  4605              MOV      r5,r0
                  |L7.26|
;;;442        }
;;;443    
;;;444    #endif // LEDS_NUMBER > 0 && !(defined BSP_SIMPLE)
;;;445        return err_code;
00001a  4628              MOV      r0,r5
;;;446    }
00001c  bd70              POP      {r4-r6,pc}
;;;447    
                          ENDP

00001e  0000              DCW      0x0000
                  |L7.32|
                          DCD      m_indication_type

                          AREA ||i.bsp_init||, CODE, READONLY, ALIGN=2

                  bsp_init PROC
;;;448    
;;;449    uint32_t bsp_init(uint32_t type, uint32_t ticks_per_100ms, bsp_event_callback_t callback)
000000  b5f7              PUSH     {r0-r2,r4-r7,lr}
;;;450    {
000002  4605              MOV      r5,r0
000004  460e              MOV      r6,r1
;;;451        uint32_t err_code = NRF_SUCCESS;
000006  2400              MOVS     r4,#0
;;;452    
;;;453    #if LEDS_NUMBER > 0 && !(defined BSP_SIMPLE)
;;;454        m_app_ticks_per_100ms = ticks_per_100ms;
000008  4838              LDR      r0,|L8.236|
00000a  6006              STR      r6,[r0,#0]  ; m_app_ticks_per_100ms
;;;455        m_indication_type     = type;
00000c  4838              LDR      r0,|L8.240|
00000e  6005              STR      r5,[r0,#0]  ; m_indication_type
;;;456    #else
;;;457        UNUSED_VARIABLE(ticks_per_100ms);
;;;458    #endif // LEDS_NUMBER > 0 && !(defined BSP_SIMPLE)
;;;459    
;;;460    #if (BUTTONS_NUMBER > 0) && !(defined BSP_SIMPLE)
;;;461        m_registered_callback = callback;
000010  4938              LDR      r1,|L8.244|
000012  9802              LDR      r0,[sp,#8]
000014  6008              STR      r0,[r1,#0]  ; m_registered_callback
;;;462    
;;;463        // BSP will support buttons and generate events
;;;464        if (type & BSP_INIT_BUTTONS)
000016  2002              MOVS     r0,#2
000018  4028              ANDS     r0,r0,r5
00001a  2800              CMP      r0,#0
00001c  d048              BEQ      |L8.176|
;;;465        {
;;;466            uint32_t num;
;;;467    
;;;468            for (num = 0; ((num < BUTTONS_NUMBER) && (err_code == NRF_SUCCESS)); num++)
00001e  2700              MOVS     r7,#0
000020  e006              B        |L8.48|
                  |L8.34|
;;;469            {
;;;470                err_code = bsp_event_to_button_action_assign(num, BSP_BUTTON_ACTION_PUSH, BSP_EVENT_DEFAULT);
000022  2201              MOVS     r2,#1
000024  4611              MOV      r1,r2
000026  4638              MOV      r0,r7
000028  f7fffffe          BL       bsp_event_to_button_action_assign
00002c  4604              MOV      r4,r0
00002e  1c7f              ADDS     r7,r7,#1              ;468
                  |L8.48|
000030  2f03              CMP      r7,#3                 ;468
000032  d201              BCS      |L8.56|
000034  2c00              CMP      r4,#0                 ;468
000036  d0f4              BEQ      |L8.34|
                  |L8.56|
;;;471            }
;;;472            //分别向按键分配行为和对应的事件 
;;;473    				err_code = bsp_event_to_button_action_assign(BSP_BUTTON_ELEC_LOCK, BSP_BUTTON_ACTION_PUSH, BSP_EVENT_ELEC_LOCK_CLOSE);
000038  2219              MOVS     r2,#0x19
00003a  2101              MOVS     r1,#1
00003c  2000              MOVS     r0,#0
00003e  f7fffffe          BL       bsp_event_to_button_action_assign
000042  4604              MOV      r4,r0
;;;474    				if(err_code == NRF_SUCCESS)
000044  2c00              CMP      r4,#0
000046  d105              BNE      |L8.84|
;;;475    				err_code = bsp_event_to_button_action_assign(BSP_BUTTON_ELEC_LOCK, BSP_BUTTON_ACTION_RELEASE, BSP_EVENT_ELEC_LOCK_OPEN);	
000048  2218              MOVS     r2,#0x18
00004a  2100              MOVS     r1,#0
00004c  4608              MOV      r0,r1
00004e  f7fffffe          BL       bsp_event_to_button_action_assign
000052  4604              MOV      r4,r0
                  |L8.84|
;;;476    				if(err_code == NRF_SUCCESS)
000054  2c00              CMP      r4,#0
000056  d105              BNE      |L8.100|
;;;477    				err_code = bsp_event_to_button_action_assign(BSP_BUTTON_UV_LAMP_DOOR, BSP_BUTTON_ACTION_PUSH, BSP_EVENT_UV_LAMP_DOOR_CLOSE);
000058  2217              MOVS     r2,#0x17
00005a  2101              MOVS     r1,#1
00005c  4608              MOV      r0,r1
00005e  f7fffffe          BL       bsp_event_to_button_action_assign
000062  4604              MOV      r4,r0
                  |L8.100|
;;;478    				if(err_code == NRF_SUCCESS)
000064  2c00              CMP      r4,#0
000066  d105              BNE      |L8.116|
;;;479    				err_code = bsp_event_to_button_action_assign(BSP_BUTTON_UV_LAMP_DOOR, BSP_BUTTON_ACTION_RELEASE, BSP_EVENT_UV_LAMP_DOOR_OPEN);
000068  2216              MOVS     r2,#0x16
00006a  2100              MOVS     r1,#0
00006c  2001              MOVS     r0,#1
00006e  f7fffffe          BL       bsp_event_to_button_action_assign
000072  4604              MOV      r4,r0
                  |L8.116|
;;;480    				if(err_code == NRF_SUCCESS)
000074  2c00              CMP      r4,#0
000076  d105              BNE      |L8.132|
;;;481    				err_code = bsp_event_to_button_action_assign(BSP_BUTTON_COIN_BOX, BSP_BUTTON_ACTION_PUSH, BSP_EVENT_COIN_BOX_GET_COIN);
000078  221a              MOVS     r2,#0x1a
00007a  2101              MOVS     r1,#1
00007c  2002              MOVS     r0,#2
00007e  f7fffffe          BL       bsp_event_to_button_action_assign
000082  4604              MOV      r4,r0
                  |L8.132|
;;;482    				
;;;483            if (err_code == NRF_SUCCESS)
000084  2c00              CMP      r4,#0
000086  d105              BNE      |L8.148|
;;;484            {
;;;485                err_code = app_button_init((app_button_cfg_t *)app_buttons,
000088  0872              LSRS     r2,r6,#1
00008a  2103              MOVS     r1,#3
00008c  481a              LDR      r0,|L8.248|
00008e  f7fffffe          BL       app_button_init
000092  4604              MOV      r4,r0
                  |L8.148|
;;;486                                           BUTTONS_NUMBER,
;;;487                                           ticks_per_100ms / 2);
;;;488            }
;;;489    
;;;490            if (err_code == NRF_SUCCESS)
000094  2c00              CMP      r4,#0
000096  d102              BNE      |L8.158|
;;;491            {
;;;492                err_code = app_button_enable();
000098  f7fffffe          BL       app_button_enable
00009c  4604              MOV      r4,r0
                  |L8.158|
;;;493            }
;;;494    
;;;495            if (err_code == NRF_SUCCESS)
00009e  2c00              CMP      r4,#0
0000a0  d105              BNE      |L8.174|
;;;496            {
;;;497                err_code = app_timer_create(&m_button_timer_id,
0000a2  4a16              LDR      r2,|L8.252|
0000a4  2100              MOVS     r1,#0
0000a6  4816              LDR      r0,|L8.256|
0000a8  f7fffffe          BL       app_timer_create
0000ac  4604              MOV      r4,r0
                  |L8.174|
;;;498                                            APP_TIMER_MODE_SINGLE_SHOT,
;;;499                                            button_timer_handler);
;;;500            }
;;;501        }
0000ae  bf00              NOP      
                  |L8.176|
;;;502    #elif (BUTTONS_NUMBER > 0) && (defined BSP_SIMPLE)
;;;503    
;;;504        if (type & BSP_INIT_BUTTONS)
;;;505        {
;;;506            bsp_board_buttons_init();
;;;507        }
;;;508    #endif // (BUTTONS_NUMBER > 0) && !(defined BSP_SIMPLE)
;;;509    
;;;510    #if LEDS_NUMBER > 0 && !(defined BSP_SIMPLE)
;;;511    
;;;512        if (type & BSP_INIT_LED)
0000b0  07e8              LSLS     r0,r5,#31
0000b2  0fc0              LSRS     r0,r0,#31
0000b4  2800              CMP      r0,#0
0000b6  d001              BEQ      |L8.188|
;;;513        {
;;;514            bsp_board_leds_init();
0000b8  f7fffffe          BL       bsp_board_leds_init
                  |L8.188|
;;;515        }
;;;516    
;;;517        // timers module must be already initialized!
;;;518        if (err_code == NRF_SUCCESS)
0000bc  2c00              CMP      r4,#0
0000be  d105              BNE      |L8.204|
;;;519        {
;;;520            err_code =
0000c0  4a10              LDR      r2,|L8.260|
0000c2  2100              MOVS     r1,#0
0000c4  4810              LDR      r0,|L8.264|
0000c6  f7fffffe          BL       app_timer_create
0000ca  4604              MOV      r4,r0
                  |L8.204|
;;;521                app_timer_create(&m_leds_timer_id, APP_TIMER_MODE_SINGLE_SHOT, leds_timer_handler);
;;;522        }
;;;523    
;;;524        if (err_code == NRF_SUCCESS)
0000cc  2c00              CMP      r4,#0
0000ce  d105              BNE      |L8.220|
;;;525        {
;;;526            err_code =
0000d0  4a0e              LDR      r2,|L8.268|
0000d2  2101              MOVS     r1,#1
0000d4  480e              LDR      r0,|L8.272|
0000d6  f7fffffe          BL       app_timer_create
0000da  4604              MOV      r4,r0
                  |L8.220|
;;;527                app_timer_create(&m_alert_timer_id, APP_TIMER_MODE_REPEATED, alert_timer_handler);
;;;528        }
;;;529    #endif // LEDS_NUMBER > 0 && !(defined BSP_SIMPLE)
;;;530    
;;;531    #if SWITCHS_NUMBER > 0 && !(defined BSP_SIMPLE)
;;;532    
;;;533        if (type & BSP_INIT_SWITCHS)
0000dc  2004              MOVS     r0,#4
0000de  4028              ANDS     r0,r0,r5
0000e0  2800              CMP      r0,#0
0000e2  d001              BEQ      |L8.232|
;;;534        {
;;;535            bsp_board_switchs_init();
0000e4  f7fffffe          BL       bsp_board_switchs_init
                  |L8.232|
;;;536        }
;;;537    #endif
;;;538        return err_code;
0000e8  4620              MOV      r0,r4
;;;539    }
0000ea  bdfe              POP      {r1-r7,pc}
;;;540    
                          ENDP

                  |L8.236|
                          DCD      m_app_ticks_per_100ms
                  |L8.240|
                          DCD      m_indication_type
                  |L8.244|
                          DCD      m_registered_callback
                  |L8.248|
                          DCD      app_buttons
                  |L8.252|
                          DCD      button_timer_handler
                  |L8.256|
                          DCD      m_button_timer_id
                  |L8.260|
                          DCD      leds_timer_handler
                  |L8.264|
                          DCD      m_leds_timer_id
                  |L8.268|
                          DCD      alert_timer_handler
                  |L8.272|
                          DCD      m_alert_timer_id

                          AREA ||i.bsp_led_indication||, CODE, READONLY, ALIGN=2

                  bsp_led_indication PROC
;;;184     */
;;;185    static uint32_t bsp_led_indication(bsp_indication_t indicate)
000000  b5f8              PUSH     {r3-r7,lr}
;;;186    {
000002  4604              MOV      r4,r0
;;;187        uint32_t err_code   = NRF_SUCCESS;
000004  2500              MOVS     r5,#0
;;;188        uint32_t next_delay = 0;
000006  2600              MOVS     r6,#0
;;;189    
;;;190        if(m_leds_clear)
000008  48c7              LDR      r0,|L9.808|
00000a  7800              LDRB     r0,[r0,#0]  ; m_leds_clear
00000c  2800              CMP      r0,#0
00000e  d004              BEQ      |L9.26|
;;;191        {
;;;192            m_leds_clear = false;
000010  2000              MOVS     r0,#0
000012  49c5              LDR      r1,|L9.808|
000014  7008              STRB     r0,[r1,#0]
;;;193            bsp_board_leds_off();
000016  f7fffffe          BL       bsp_board_leds_off
                  |L9.26|
;;;194        }
;;;195    
;;;196        switch (indicate)
00001a  0023              MOVS     r3,r4
00001c  f7fffffe          BL       __ARM_common_switch8
000020  180d1213          DCB      0x18,0x0d,0x12,0x13
000024  406d9bc7          DCB      0x40,0x6d,0x9b,0xc7
000028  d5dbfaf8          DCB      0xd5,0xdb,0xfa,0xf8
00002c  f7f6f5f4          DCB      0xf7,0xf6,0xf5,0xf4
000030  f3f2f1f0          DCB      0xf3,0xf2,0xf1,0xf0
000034  efeeedec          DCB      0xef,0xee,0xed,0xec
000038  ebea              DCB      0xeb,0xea
;;;197        {
;;;198            case BSP_INDICATE_IDLE:
;;;199                bsp_board_leds_off();
00003a  f7fffffe          BL       bsp_board_leds_off
;;;200                m_stable_state = indicate;
00003e  48bb              LDR      r0,|L9.812|
000040  7004              STRB     r4,[r0,#0]
;;;201                break;
000042  e16e              B        |L9.802|
;;;202    
;;;203            case BSP_INDICATE_SCANNING:
;;;204            case BSP_INDICATE_ADVERTISING:
000044  bf00              NOP      
;;;205                // in advertising blink LED_0
;;;206                if (bsp_board_led_state_get(BSP_LED_INDICATE_INDICATE_ADVERTISING))
000046  2002              MOVS     r0,#2
000048  f7fffffe          BL       bsp_board_led_state_get
00004c  2800              CMP      r0,#0
00004e  d00b              BEQ      |L9.104|
;;;207                {
;;;208                    bsp_board_led_off(BSP_LED_INDICATE_INDICATE_ADVERTISING);
000050  2002              MOVS     r0,#2
000052  f7fffffe          BL       bsp_board_led_off
;;;209                    next_delay = indicate ==
000056  2c02              CMP      r4,#2
000058  d102              BNE      |L9.96|
;;;210                                 BSP_INDICATE_ADVERTISING ? ADVERTISING_LED_OFF_INTERVAL :
00005a  20e1              MOVS     r0,#0xe1
00005c  00c0              LSLS     r0,r0,#3
00005e  e001              B        |L9.100|
                  |L9.96|
;;;211                                 ADVERTISING_SLOW_LED_OFF_INTERVAL;
000060  207d              MOVS     r0,#0x7d
000062  0140              LSLS     r0,r0,#5
                  |L9.100|
000064  4606              MOV      r6,r0
000066  e009              B        |L9.124|
                  |L9.104|
;;;212                }
;;;213                else
;;;214                {
;;;215                    bsp_board_led_on(BSP_LED_INDICATE_INDICATE_ADVERTISING);
000068  2002              MOVS     r0,#2
00006a  f7fffffe          BL       bsp_board_led_on
;;;216                    next_delay = indicate ==
00006e  2c02              CMP      r4,#2
000070  d101              BNE      |L9.118|
;;;217                                 BSP_INDICATE_ADVERTISING ? ADVERTISING_LED_ON_INTERVAL :
000072  20c8              MOVS     r0,#0xc8
000074  e001              B        |L9.122|
                  |L9.118|
;;;218                                 ADVERTISING_SLOW_LED_ON_INTERVAL;
000076  20ff              MOVS     r0,#0xff
000078  3091              ADDS     r0,r0,#0x91
                  |L9.122|
00007a  4606              MOV      r6,r0
                  |L9.124|
;;;219                }
;;;220    
;;;221                m_stable_state = indicate;
00007c  48ab              LDR      r0,|L9.812|
00007e  7004              STRB     r4,[r0,#0]
;;;222                err_code       = app_timer_start(m_leds_timer_id, BSP_MS_TO_TICK(next_delay), NULL);
000080  2164              MOVS     r1,#0x64
000082  4630              MOV      r0,r6
000084  f7fffffe          BL       __aeabi_uidivmod
000088  49a9              LDR      r1,|L9.816|
00008a  6809              LDR      r1,[r1,#0]  ; m_app_ticks_per_100ms
00008c  4348              MULS     r0,r1,r0
00008e  4607              MOV      r7,r0
000090  2200              MOVS     r2,#0
000092  4639              MOV      r1,r7
000094  48a7              LDR      r0,|L9.820|
000096  6800              LDR      r0,[r0,#0]  ; m_leds_timer_id
000098  f7fffffe          BL       app_timer_start
00009c  4605              MOV      r5,r0
;;;223                break;
00009e  e140              B        |L9.802|
;;;224    
;;;225            case BSP_INDICATE_ADVERTISING_WHITELIST:
;;;226                // in advertising quickly blink LED_0
;;;227                if (bsp_board_led_state_get(BSP_LED_INDICATE_ADVERTISING_WHITELIST))
0000a0  2002              MOVS     r0,#2
0000a2  f7fffffe          BL       bsp_board_led_state_get
0000a6  2800              CMP      r0,#0
0000a8  d00b              BEQ      |L9.194|
;;;228                {
;;;229                    bsp_board_led_off(BSP_LED_INDICATE_ADVERTISING_WHITELIST);
0000aa  2002              MOVS     r0,#2
0000ac  f7fffffe          BL       bsp_board_led_off
;;;230                    next_delay = indicate ==
0000b0  2c03              CMP      r4,#3
0000b2  d102              BNE      |L9.186|
;;;231                                 BSP_INDICATE_ADVERTISING_WHITELIST ?
;;;232                                 ADVERTISING_WHITELIST_LED_OFF_INTERVAL :
0000b4  2019              MOVS     r0,#0x19
0000b6  0140              LSLS     r0,r0,#5
0000b8  e001              B        |L9.190|
                  |L9.186|
;;;233                                 ADVERTISING_SLOW_LED_OFF_INTERVAL;
0000ba  207d              MOVS     r0,#0x7d
0000bc  0140              LSLS     r0,r0,#5
                  |L9.190|
0000be  4606              MOV      r6,r0
0000c0  e009              B        |L9.214|
                  |L9.194|
;;;234                }
;;;235                else
;;;236                {
;;;237                    bsp_board_led_on(BSP_LED_INDICATE_ADVERTISING_WHITELIST);
0000c2  2002              MOVS     r0,#2
0000c4  f7fffffe          BL       bsp_board_led_on
;;;238                    next_delay = indicate ==
0000c8  2c03              CMP      r4,#3
0000ca  d101              BNE      |L9.208|
;;;239                                 BSP_INDICATE_ADVERTISING_WHITELIST ?
;;;240                                 ADVERTISING_WHITELIST_LED_ON_INTERVAL :
0000cc  20c8              MOVS     r0,#0xc8
0000ce  e001              B        |L9.212|
                  |L9.208|
;;;241                                 ADVERTISING_SLOW_LED_ON_INTERVAL;
0000d0  20ff              MOVS     r0,#0xff
0000d2  3091              ADDS     r0,r0,#0x91
                  |L9.212|
0000d4  4606              MOV      r6,r0
                  |L9.214|
;;;242                }
;;;243                m_stable_state = indicate;
0000d6  4895              LDR      r0,|L9.812|
0000d8  7004              STRB     r4,[r0,#0]
;;;244                err_code       = app_timer_start(m_leds_timer_id, BSP_MS_TO_TICK(next_delay), NULL);
0000da  2164              MOVS     r1,#0x64
0000dc  4630              MOV      r0,r6
0000de  f7fffffe          BL       __aeabi_uidivmod
0000e2  4993              LDR      r1,|L9.816|
0000e4  6809              LDR      r1,[r1,#0]  ; m_app_ticks_per_100ms
0000e6  4348              MULS     r0,r1,r0
0000e8  4607              MOV      r7,r0
0000ea  2200              MOVS     r2,#0
0000ec  4639              MOV      r1,r7
0000ee  4891              LDR      r0,|L9.820|
0000f0  6800              LDR      r0,[r0,#0]  ; m_leds_timer_id
0000f2  f7fffffe          BL       app_timer_start
0000f6  4605              MOV      r5,r0
;;;245                break;
0000f8  e113              B        |L9.802|
;;;246    
;;;247            case BSP_INDICATE_ADVERTISING_SLOW:
;;;248                // in advertising slowly blink LED_0
;;;249                if (bsp_board_led_state_get(BSP_LED_INDICATE_ADVERTISING_SLOW))
0000fa  2002              MOVS     r0,#2
0000fc  f7fffffe          BL       bsp_board_led_state_get
000100  2800              CMP      r0,#0
000102  d00b              BEQ      |L9.284|
;;;250                {
;;;251                    bsp_board_led_off(BSP_LED_INDICATE_ADVERTISING_SLOW);
000104  2002              MOVS     r0,#2
000106  f7fffffe          BL       bsp_board_led_off
;;;252                    next_delay = indicate ==
00010a  2c04              CMP      r4,#4
00010c  d102              BNE      |L9.276|
;;;253                                 BSP_INDICATE_ADVERTISING_SLOW ? ADVERTISING_SLOW_LED_OFF_INTERVAL :
00010e  207d              MOVS     r0,#0x7d
000110  0140              LSLS     r0,r0,#5
000112  e001              B        |L9.280|
                  |L9.276|
;;;254                                 ADVERTISING_SLOW_LED_OFF_INTERVAL;
000114  207d              MOVS     r0,#0x7d
000116  0140              LSLS     r0,r0,#5
                  |L9.280|
000118  4606              MOV      r6,r0
00011a  e00a              B        |L9.306|
                  |L9.284|
;;;255                }
;;;256                else
;;;257                {
;;;258                    bsp_board_led_on(BSP_LED_INDICATE_ADVERTISING_SLOW);
00011c  2002              MOVS     r0,#2
00011e  f7fffffe          BL       bsp_board_led_on
;;;259                    next_delay = indicate ==
000122  2c04              CMP      r4,#4
000124  d102              BNE      |L9.300|
;;;260                                 BSP_INDICATE_ADVERTISING_SLOW ? ADVERTISING_SLOW_LED_ON_INTERVAL :
000126  20ff              MOVS     r0,#0xff
000128  3091              ADDS     r0,r0,#0x91
00012a  e001              B        |L9.304|
                  |L9.300|
;;;261                                 ADVERTISING_SLOW_LED_ON_INTERVAL;
00012c  20ff              MOVS     r0,#0xff
00012e  3091              ADDS     r0,r0,#0x91
                  |L9.304|
000130  4606              MOV      r6,r0
                  |L9.306|
;;;262                }
;;;263                m_stable_state = indicate;
000132  487e              LDR      r0,|L9.812|
000134  7004              STRB     r4,[r0,#0]
;;;264                err_code       = app_timer_start(m_leds_timer_id, BSP_MS_TO_TICK(next_delay), NULL);
000136  2164              MOVS     r1,#0x64
000138  4630              MOV      r0,r6
00013a  f7fffffe          BL       __aeabi_uidivmod
00013e  497c              LDR      r1,|L9.816|
000140  6809              LDR      r1,[r1,#0]  ; m_app_ticks_per_100ms
000142  4348              MULS     r0,r1,r0
000144  4607              MOV      r7,r0
000146  2200              MOVS     r2,#0
000148  4639              MOV      r1,r7
00014a  487a              LDR      r0,|L9.820|
00014c  6800              LDR      r0,[r0,#0]  ; m_leds_timer_id
00014e  f7fffffe          BL       app_timer_start
000152  4605              MOV      r5,r0
;;;265                break;
000154  e0e5              B        |L9.802|
;;;266    
;;;267            case BSP_INDICATE_ADVERTISING_DIRECTED:
;;;268                // in advertising very quickly blink LED_0
;;;269                if (bsp_board_led_state_get(BSP_LED_INDICATE_ADVERTISING_DIRECTED))
000156  2002              MOVS     r0,#2
000158  f7fffffe          BL       bsp_board_led_state_get
00015c  2800              CMP      r0,#0
00015e  d00a              BEQ      |L9.374|
;;;270                {
;;;271                    bsp_board_led_off(BSP_LED_INDICATE_ADVERTISING_DIRECTED);
000160  2002              MOVS     r0,#2
000162  f7fffffe          BL       bsp_board_led_off
;;;272                    next_delay = indicate ==
000166  2c05              CMP      r4,#5
000168  d101              BNE      |L9.366|
;;;273                                 BSP_INDICATE_ADVERTISING_DIRECTED ?
;;;274                                 ADVERTISING_DIRECTED_LED_OFF_INTERVAL :
00016a  20c8              MOVS     r0,#0xc8
00016c  e001              B        |L9.370|
                  |L9.366|
;;;275                                 ADVERTISING_SLOW_LED_OFF_INTERVAL;
00016e  207d              MOVS     r0,#0x7d
000170  0140              LSLS     r0,r0,#5
                  |L9.370|
000172  4606              MOV      r6,r0
000174  e009              B        |L9.394|
                  |L9.374|
;;;276                }
;;;277                else
;;;278                {
;;;279                    bsp_board_led_on(BSP_LED_INDICATE_ADVERTISING_DIRECTED);
000176  2002              MOVS     r0,#2
000178  f7fffffe          BL       bsp_board_led_on
;;;280                    next_delay = indicate ==
00017c  2c05              CMP      r4,#5
00017e  d101              BNE      |L9.388|
;;;281                                 BSP_INDICATE_ADVERTISING_DIRECTED ?
;;;282                                 ADVERTISING_DIRECTED_LED_ON_INTERVAL :
000180  20c8              MOVS     r0,#0xc8
000182  e001              B        |L9.392|
                  |L9.388|
;;;283                                 ADVERTISING_SLOW_LED_ON_INTERVAL;
000184  20ff              MOVS     r0,#0xff
000186  3091              ADDS     r0,r0,#0x91
                  |L9.392|
000188  4606              MOV      r6,r0
                  |L9.394|
;;;284                }
;;;285                m_stable_state = indicate;
00018a  4868              LDR      r0,|L9.812|
00018c  7004              STRB     r4,[r0,#0]
;;;286                err_code       = app_timer_start(m_leds_timer_id, BSP_MS_TO_TICK(next_delay), NULL);
00018e  2164              MOVS     r1,#0x64
000190  4630              MOV      r0,r6
000192  f7fffffe          BL       __aeabi_uidivmod
000196  4966              LDR      r1,|L9.816|
000198  6809              LDR      r1,[r1,#0]  ; m_app_ticks_per_100ms
00019a  4348              MULS     r0,r1,r0
00019c  4607              MOV      r7,r0
00019e  2200              MOVS     r2,#0
0001a0  4639              MOV      r1,r7
0001a2  4864              LDR      r0,|L9.820|
0001a4  6800              LDR      r0,[r0,#0]  ; m_leds_timer_id
0001a6  f7fffffe          BL       app_timer_start
0001aa  4605              MOV      r5,r0
;;;287                break;
0001ac  e0b9              B        |L9.802|
;;;288    
;;;289            case BSP_INDICATE_BONDING:
;;;290                // in bonding fast blink LED_0
;;;291                bsp_board_led_invert(BSP_LED_INDICATE_BONDING);
0001ae  2002              MOVS     r0,#2
0001b0  f7fffffe          BL       bsp_board_led_invert
;;;292    
;;;293                m_stable_state = indicate;
0001b4  485d              LDR      r0,|L9.812|
0001b6  7004              STRB     r4,[r0,#0]
;;;294                err_code       =
0001b8  485d              LDR      r0,|L9.816|
0001ba  2200              MOVS     r2,#0
0001bc  6801              LDR      r1,[r0,#0]  ; m_app_ticks_per_100ms
0001be  485d              LDR      r0,|L9.820|
0001c0  6800              LDR      r0,[r0,#0]  ; m_leds_timer_id
0001c2  f7fffffe          BL       app_timer_start
0001c6  4605              MOV      r5,r0
;;;295                    app_timer_start(m_leds_timer_id, BSP_MS_TO_TICK(BONDING_INTERVAL), NULL);
;;;296                break;
0001c8  e0ab              B        |L9.802|
;;;297    
;;;298            case BSP_INDICATE_CONNECTED:
;;;299                bsp_board_led_on(BSP_LED_INDICATE_CONNECTED);
0001ca  2002              MOVS     r0,#2
0001cc  f7fffffe          BL       bsp_board_led_on
;;;300                m_stable_state = indicate;
0001d0  4856              LDR      r0,|L9.812|
0001d2  7004              STRB     r4,[r0,#0]
;;;301                break;
0001d4  e0a5              B        |L9.802|
;;;302    
;;;303            case BSP_INDICATE_SENT_OK:
;;;304                // when sending shortly invert LED_1
;;;305                m_leds_clear = true;
0001d6  2001              MOVS     r0,#1
0001d8  4953              LDR      r1,|L9.808|
0001da  7008              STRB     r0,[r1,#0]
;;;306                bsp_board_led_invert(BSP_LED_INDICATE_SENT_OK);
0001dc  2002              MOVS     r0,#2
0001de  f7fffffe          BL       bsp_board_led_invert
;;;307                err_code = app_timer_start(m_leds_timer_id, BSP_MS_TO_TICK(SENT_OK_INTERVAL), NULL);
0001e2  4853              LDR      r0,|L9.816|
0001e4  2200              MOVS     r2,#0
0001e6  6801              LDR      r1,[r0,#0]  ; m_app_ticks_per_100ms
0001e8  4852              LDR      r0,|L9.820|
0001ea  6800              LDR      r0,[r0,#0]  ; m_leds_timer_id
0001ec  f7fffffe          BL       app_timer_start
0001f0  4605              MOV      r5,r0
;;;308                break;
0001f2  e096              B        |L9.802|
0001f4  e094              B        |L9.800|
0001f6  e08e              B        |L9.790|
0001f8  e08c              B        |L9.788|
0001fa  e080              B        |L9.766|
0001fc  e077              B        |L9.750|
0001fe  e06e              B        |L9.734|
000200  e068              B        |L9.724|
000202  e041              B        |L9.648|
000204  e03f              B        |L9.646|
000206  e03d              B        |L9.644|
000208  e03b              B        |L9.642|
00020a  e039              B        |L9.640|
00020c  e033              B        |L9.630|
00020e  e021              B        |L9.596|
000210  e011              B        |L9.566|
000212  e7ff              B        |L9.532|
                  |L9.532|
;;;309    
;;;310            case BSP_INDICATE_SEND_ERROR:
;;;311                // on receving error invert LED_1 for long time
;;;312                m_leds_clear = true;
000214  2001              MOVS     r0,#1
000216  4944              LDR      r1,|L9.808|
000218  7008              STRB     r0,[r1,#0]
;;;313                bsp_board_led_invert(BSP_LED_INDICATE_SEND_ERROR);
00021a  2002              MOVS     r0,#2
00021c  f7fffffe          BL       bsp_board_led_invert
;;;314                err_code = app_timer_start(m_leds_timer_id, BSP_MS_TO_TICK(SEND_ERROR_INTERVAL), NULL);
000220  4843              LDR      r0,|L9.816|
000222  6800              LDR      r0,[r0,#0]  ; m_app_ticks_per_100ms
000224  0082              LSLS     r2,r0,#2
000226  1881              ADDS     r1,r0,r2
000228  2200              MOVS     r2,#0
00022a  4842              LDR      r0,|L9.820|
00022c  6800              LDR      r0,[r0,#0]  ; m_leds_timer_id
00022e  f7fffffe          BL       app_timer_start
000232  4605              MOV      r5,r0
;;;315                break;
000234  e075              B        |L9.802|
                  |L9.566|
;;;316    
;;;317            case BSP_INDICATE_RCV_OK:
;;;318                // when receving shortly invert LED_1
;;;319                m_leds_clear = true;
000236  2001              MOVS     r0,#1
000238  493b              LDR      r1,|L9.808|
00023a  7008              STRB     r0,[r1,#0]
;;;320                bsp_board_led_invert(BSP_LED_INDICATE_RCV_OK);
00023c  2002              MOVS     r0,#2
00023e  f7fffffe          BL       bsp_board_led_invert
;;;321                err_code = app_timer_start(m_leds_timer_id, BSP_MS_TO_TICK(RCV_OK_INTERVAL), NULL);
000242  483b              LDR      r0,|L9.816|
000244  2200              MOVS     r2,#0
000246  6801              LDR      r1,[r0,#0]  ; m_app_ticks_per_100ms
000248  483a              LDR      r0,|L9.820|
00024a  6800              LDR      r0,[r0,#0]  ; m_leds_timer_id
00024c  f7fffffe          BL       app_timer_start
000250  4605              MOV      r5,r0
;;;322                break;
000252  e066              B        |L9.802|
                  |L9.596|
;;;323    
;;;324            case BSP_INDICATE_RCV_ERROR:
;;;325                // on receving error invert LED_1 for long time
;;;326                m_leds_clear = true;
000254  2001              MOVS     r0,#1
000256  4934              LDR      r1,|L9.808|
000258  7008              STRB     r0,[r1,#0]
;;;327                bsp_board_led_invert(BSP_LED_INDICATE_RCV_ERROR);
00025a  2002              MOVS     r0,#2
00025c  f7fffffe          BL       bsp_board_led_invert
;;;328                err_code = app_timer_start(m_leds_timer_id, BSP_MS_TO_TICK(RCV_ERROR_INTERVAL), NULL);
000260  4833              LDR      r0,|L9.816|
000262  6800              LDR      r0,[r0,#0]  ; m_app_ticks_per_100ms
000264  0082              LSLS     r2,r0,#2
000266  1881              ADDS     r1,r0,r2
000268  2200              MOVS     r2,#0
00026a  4832              LDR      r0,|L9.820|
00026c  6800              LDR      r0,[r0,#0]  ; m_leds_timer_id
00026e  f7fffffe          BL       app_timer_start
000272  4605              MOV      r5,r0
;;;329                break;
000274  e055              B        |L9.802|
                  |L9.630|
;;;330    
;;;331            case BSP_INDICATE_FATAL_ERROR:
;;;332                // on fatal error turn on all leds
;;;333                bsp_board_leds_on();
000276  f7fffffe          BL       bsp_board_leds_on
;;;334                m_stable_state = indicate;
00027a  482c              LDR      r0,|L9.812|
00027c  7004              STRB     r4,[r0,#0]
;;;335                break;
00027e  e050              B        |L9.802|
                  |L9.640|
;;;336    
;;;337            case BSP_INDICATE_ALERT_0:
;;;338            case BSP_INDICATE_ALERT_1:
000280  bf00              NOP      
                  |L9.642|
;;;339            case BSP_INDICATE_ALERT_2:
000282  bf00              NOP      
                  |L9.644|
;;;340            case BSP_INDICATE_ALERT_3:
000284  bf00              NOP      
                  |L9.646|
;;;341            case BSP_INDICATE_ALERT_OFF:
000286  bf00              NOP      
                  |L9.648|
;;;342                err_code   = app_timer_stop(m_alert_timer_id);
000288  482b              LDR      r0,|L9.824|
00028a  6800              LDR      r0,[r0,#0]  ; m_alert_timer_id
00028c  f7fffffe          BL       app_timer_stop
000290  4605              MOV      r5,r0
;;;343                next_delay = (uint32_t)BSP_INDICATE_ALERT_OFF - (uint32_t)indicate;
000292  2011              MOVS     r0,#0x11
000294  1b06              SUBS     r6,r0,r4
;;;344    
;;;345                // a little trick to find out that if it did not fall through ALERT_OFF
;;;346                if (next_delay && (err_code == NRF_SUCCESS))
000296  2e00              CMP      r6,#0
000298  d018              BEQ      |L9.716|
00029a  2d00              CMP      r5,#0
00029c  d116              BNE      |L9.716|
;;;347                {
;;;348                    if (next_delay > 1)
00029e  2e01              CMP      r6,#1
0002a0  d910              BLS      |L9.708|
;;;349                    {
;;;350                        err_code = app_timer_start(m_alert_timer_id,
0002a2  21c8              MOVS     r1,#0xc8
0002a4  4371              MULS     r1,r6,r1
0002a6  4608              MOV      r0,r1
0002a8  2164              MOVS     r1,#0x64
0002aa  f7fffffe          BL       __aeabi_uidivmod
0002ae  4920              LDR      r1,|L9.816|
0002b0  6809              LDR      r1,[r1,#0]  ; m_app_ticks_per_100ms
0002b2  4348              MULS     r0,r1,r0
0002b4  4607              MOV      r7,r0
0002b6  2200              MOVS     r2,#0
0002b8  4639              MOV      r1,r7
0002ba  481f              LDR      r0,|L9.824|
0002bc  6800              LDR      r0,[r0,#0]  ; m_alert_timer_id
0002be  f7fffffe          BL       app_timer_start
0002c2  4605              MOV      r5,r0
                  |L9.708|
;;;351                                                   BSP_MS_TO_TICK((next_delay * ALERT_INTERVAL)),
;;;352                                                   NULL);
;;;353                    }
;;;354                    bsp_board_led_on(BSP_LED_ALERT);
0002c4  2002              MOVS     r0,#2
0002c6  f7fffffe          BL       bsp_board_led_on
0002ca  e002              B        |L9.722|
                  |L9.716|
;;;355                }
;;;356                else
;;;357                {
;;;358                    bsp_board_led_off(BSP_LED_ALERT);
0002cc  2002              MOVS     r0,#2
0002ce  f7fffffe          BL       bsp_board_led_off
                  |L9.722|
;;;359                }
;;;360                break;
0002d2  e026              B        |L9.802|
                  |L9.724|
;;;361    
;;;362            case BSP_INDICATE_USER_STATE_OFF:
;;;363                bsp_board_leds_off();
0002d4  f7fffffe          BL       bsp_board_leds_off
;;;364                m_stable_state = indicate;
0002d8  4814              LDR      r0,|L9.812|
0002da  7004              STRB     r4,[r0,#0]
;;;365                break;
0002dc  e021              B        |L9.802|
                  |L9.734|
;;;366    
;;;367            case BSP_INDICATE_USER_STATE_0:
;;;368                bsp_board_leds_off();
0002de  f7fffffe          BL       bsp_board_leds_off
;;;369                bsp_board_led_on(BSP_LED_INDICATE_USER_LED1);
0002e2  2002              MOVS     r0,#2
0002e4  f7fffffe          BL       bsp_board_led_on
;;;370                m_stable_state = indicate;
0002e8  4810              LDR      r0,|L9.812|
0002ea  7004              STRB     r4,[r0,#0]
;;;371                break;
0002ec  e019              B        |L9.802|
                  |L9.750|
;;;372    
;;;373            case BSP_INDICATE_USER_STATE_1:
;;;374                bsp_board_leds_off();
0002ee  f7fffffe          BL       bsp_board_leds_off
;;;375                bsp_board_led_on(BSP_LED_INDICATE_USER_LED2);
0002f2  2002              MOVS     r0,#2
0002f4  f7fffffe          BL       bsp_board_led_on
;;;376                m_stable_state = indicate;
0002f8  480c              LDR      r0,|L9.812|
0002fa  7004              STRB     r4,[r0,#0]
;;;377                break;
0002fc  e011              B        |L9.802|
                  |L9.766|
;;;378    
;;;379            case BSP_INDICATE_USER_STATE_2:
;;;380                bsp_board_leds_off();
0002fe  f7fffffe          BL       bsp_board_leds_off
;;;381                bsp_board_led_on(BSP_LED_INDICATE_USER_LED1);
000302  2002              MOVS     r0,#2
000304  f7fffffe          BL       bsp_board_led_on
;;;382                bsp_board_led_on(BSP_LED_INDICATE_USER_LED2);
000308  2002              MOVS     r0,#2
00030a  f7fffffe          BL       bsp_board_led_on
;;;383                m_stable_state = indicate;
00030e  4807              LDR      r0,|L9.812|
000310  7004              STRB     r4,[r0,#0]
;;;384                break;
000312  e006              B        |L9.802|
                  |L9.788|
;;;385    
;;;386            case BSP_INDICATE_USER_STATE_3:
;;;387    
;;;388            case BSP_INDICATE_USER_STATE_ON:
000314  bf00              NOP      
                  |L9.790|
;;;389                bsp_board_leds_on();
000316  f7fffffe          BL       bsp_board_leds_on
;;;390                m_stable_state = indicate;
00031a  4804              LDR      r0,|L9.812|
00031c  7004              STRB     r4,[r0,#0]
;;;391                break;
00031e  e000              B        |L9.802|
                  |L9.800|
;;;392    
;;;393            default:
;;;394                break;
000320  bf00              NOP      
                  |L9.802|
000322  bf00              NOP                            ;201
;;;395        }
;;;396    
;;;397        return err_code;
000324  4628              MOV      r0,r5
;;;398    }
000326  bdf8              POP      {r3-r7,pc}
;;;399    
                          ENDP

                  |L9.808|
                          DCD      m_leds_clear
                  |L9.812|
                          DCD      m_stable_state
                  |L9.816|
                          DCD      m_app_ticks_per_100ms
                  |L9.820|
                          DCD      m_leds_timer_id
                  |L9.824|
                          DCD      m_alert_timer_id

                          AREA ||i.bsp_wakeup_button_disable||, CODE, READONLY, ALIGN=1

                  bsp_wakeup_button_disable PROC
;;;616    
;;;617    uint32_t bsp_wakeup_button_disable(uint32_t button_idx)
000000  b570              PUSH     {r4-r6,lr}
;;;618    {
000002  4604              MOV      r4,r0
;;;619    #if (BUTTONS_NUMBER > 0) && !defined(BSP_SIMPLE)
;;;620        nrf_gpio_cfg_sense_set(bsp_board_button_idx_to_pin(button_idx),
000004  4620              MOV      r0,r4
000006  f7fffffe          BL       bsp_board_button_idx_to_pin
00000a  4605              MOV      r5,r0
00000c  2100              MOVS     r1,#0
00000e  f7fffffe          BL       nrf_gpio_cfg_sense_set
;;;621                               NRF_GPIO_PIN_NOSENSE);
;;;622        return NRF_SUCCESS;
000012  2000              MOVS     r0,#0
;;;623    #else
;;;624        UNUSED_PARAMETER(button_idx);
;;;625        return NRF_ERROR_NOT_SUPPORTED;
;;;626    #endif
;;;627    }
000014  bd70              POP      {r4-r6,pc}
                          ENDP


                          AREA ||i.bsp_wakeup_button_enable||, CODE, READONLY, ALIGN=1

                  bsp_wakeup_button_enable PROC
;;;604    
;;;605    uint32_t bsp_wakeup_button_enable(uint32_t button_idx)
000000  b570              PUSH     {r4-r6,lr}
;;;606    {
000002  4604              MOV      r4,r0
;;;607    #if (BUTTONS_NUMBER > 0) && !defined(BSP_SIMPLE)
;;;608        nrf_gpio_cfg_sense_set(bsp_board_button_idx_to_pin(button_idx),
000004  4620              MOV      r0,r4
000006  f7fffffe          BL       bsp_board_button_idx_to_pin
00000a  4605              MOV      r5,r0
00000c  2103              MOVS     r1,#3
00000e  f7fffffe          BL       nrf_gpio_cfg_sense_set
;;;609                BUTTONS_ACTIVE_STATE ? NRF_GPIO_PIN_SENSE_HIGH :NRF_GPIO_PIN_SENSE_LOW);
;;;610        return NRF_SUCCESS;
000012  2000              MOVS     r0,#0
;;;611    #else
;;;612        UNUSED_PARAMETER(button_idx);
;;;613        return NRF_ERROR_NOT_SUPPORTED;
;;;614    #endif
;;;615    }
000014  bd70              POP      {r4-r6,pc}
;;;616    
                          ENDP


                          AREA ||i.button_timer_handler||, CODE, READONLY, ALIGN=1

                  button_timer_handler PROC
;;;172     */
;;;173    static void button_timer_handler(void * p_context)
000000  b510              PUSH     {r4,lr}
;;;174    {
000002  4604              MOV      r4,r0
;;;175        bsp_button_event_handler(*(uint8_t *)p_context, BSP_BUTTON_ACTION_LONG_PUSH);
000004  7820              LDRB     r0,[r4,#0]
000006  2102              MOVS     r1,#2
000008  f7fffffe          BL       bsp_button_event_handler
;;;176    }
00000c  bd10              POP      {r4,pc}
;;;177    
                          ENDP


                          AREA ||i.leds_timer_handler||, CODE, READONLY, ALIGN=2

                  leds_timer_handler PROC
;;;407     */
;;;408    static void leds_timer_handler(void * p_context)
000000  b510              PUSH     {r4,lr}
;;;409    {
000002  4604              MOV      r4,r0
;;;410        UNUSED_PARAMETER(p_context);
;;;411    
;;;412        if (m_indication_type & BSP_INIT_LED)
000004  4805              LDR      r0,|L13.28|
000006  7800              LDRB     r0,[r0,#0]  ; m_indication_type
000008  07c0              LSLS     r0,r0,#31
00000a  0fc0              LSRS     r0,r0,#31
00000c  2800              CMP      r0,#0
00000e  d003              BEQ      |L13.24|
;;;413        {
;;;414            UNUSED_VARIABLE(bsp_led_indication(m_stable_state));
000010  4803              LDR      r0,|L13.32|
000012  7800              LDRB     r0,[r0,#0]  ; m_stable_state
000014  f7fffffe          BL       bsp_led_indication
                  |L13.24|
;;;415        }
;;;416    }
000018  bd10              POP      {r4,pc}
;;;417    
                          ENDP

00001a  0000              DCW      0x0000
                  |L13.28|
                          DCD      m_indication_type
                  |L13.32|
                          DCD      m_stable_state

                          AREA ||i.nrf_gpio_cfg_sense_set||, CODE, READONLY, ALIGN=1

                  nrf_gpio_cfg_sense_set PROC
;;;591    
;;;592    __STATIC_INLINE void nrf_gpio_cfg_sense_set(uint32_t pin_number, nrf_gpio_pin_sense_t sense_config)
000000  b530              PUSH     {r4,r5,lr}
;;;593    {
000002  460a              MOV      r2,r1
;;;594        NRF_GPIO_Type * reg = nrf_gpio_pin_port_decode(&pin_number);
000004  bf00              NOP      
000006  2305              MOVS     r3,#5
000008  071b              LSLS     r3,r3,#28
00000a  4619              MOV      r1,r3
;;;595    
;;;596        /*lint -e{845} // A zero has been given as right argument to operator '|'" */
;;;597        reg->PIN_CNF[pin_number] &= ~GPIO_PIN_CNF_SENSE_Msk;
00000c  0083              LSLS     r3,r0,#2
00000e  2407              MOVS     r4,#7
000010  0224              LSLS     r4,r4,#8
000012  190c              ADDS     r4,r1,r4
000014  58e3              LDR      r3,[r4,r3]
000016  2403              MOVS     r4,#3
000018  0424              LSLS     r4,r4,#16
00001a  43a3              BICS     r3,r3,r4
00001c  0084              LSLS     r4,r0,#2
00001e  2507              MOVS     r5,#7
000020  022d              LSLS     r5,r5,#8
000022  194d              ADDS     r5,r1,r5
000024  512b              STR      r3,[r5,r4]
;;;598        reg->PIN_CNF[pin_number] |= (sense_config << GPIO_PIN_CNF_SENSE_Pos);
000026  0083              LSLS     r3,r0,#2
000028  2407              MOVS     r4,#7
00002a  0224              LSLS     r4,r4,#8
00002c  190c              ADDS     r4,r1,r4
00002e  58e3              LDR      r3,[r4,r3]
000030  0414              LSLS     r4,r2,#16
000032  4323              ORRS     r3,r3,r4
000034  0084              LSLS     r4,r0,#2
000036  2507              MOVS     r5,#7
000038  022d              LSLS     r5,r5,#8
00003a  194d              ADDS     r5,r1,r5
00003c  512b              STR      r3,[r5,r4]
;;;599    }
00003e  bd30              POP      {r4,r5,pc}
;;;600    
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  m_leds_timer_id_data
                          %        32
                  m_alert_timer_id_data
                          %        32
                  m_events_list
                          %        12
                  m_button_timer_id_data
                          %        32

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

                  m_leds_timer_id
                          DCD      m_leds_timer_id_data
                  m_alert_timer_id
                          DCD      m_alert_timer_id_data
                  m_button_timer_id
                          DCD      m_button_timer_id_data
                  app_buttons
00000c  02000300          DCB      0x02,0x00,0x03,0x00
                          DCD      bsp_button_event_handler
000014  03000300          DCB      0x03,0x00,0x03,0x00
                          DCD      bsp_button_event_handler
00001c  04000300          DCB      0x04,0x00,0x03,0x00
                          DCD      bsp_button_event_handler

                          AREA ||.data||, DATA, ALIGN=2

                  m_stable_state
000000  00                DCB      0x00
                  m_leds_clear
000001  000000            DCB      0x00,0x00,0x00
                  m_app_ticks_per_100ms
                          DCD      0x00000000
                  m_indication_type
                          DCD      0x00000000
                  m_registered_callback
                          DCD      0x00000000
                  current_long_push_pin_no
000010  00                DCB      0x00
                  release_event_at_push
000011  000000            DCB      0x00,0x00,0x00

                          AREA ||i.__ARM_common_switch8||, COMGROUP=__ARM_common_switch8, CODE, READONLY, ALIGN=1

                  __ARM_common_switch8 PROC
000000  b430              PUSH     {r4,r5}
000002  4674              MOV      r4,lr
000004  1e64              SUBS     r4,r4,#1
000006  7825              LDRB     r5,[r4,#0]
000008  1c64              ADDS     r4,r4,#1
00000a  42ab              CMP      r3,r5
00000c  d304              BCC      |L89.24|
                  |L89.14|
00000e  5d63              LDRB     r3,[r4,r5]
000010  005b              LSLS     r3,r3,#1
000012  18e3              ADDS     r3,r4,r3
000014  bc30              POP      {r4,r5}
000016  4718              BX       r3
                  |L89.24|
000018  461d              MOV      r5,r3
00001a  e7f8              B        |L89.14|
                          ENDP


;*** Start embedded assembler ***

#line 1 "..\\..\\..\\..\\..\\..\\components\\libraries\\bsp\\bsp.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___5_bsp_c_2c5c7607____REV16|
#line 129 "C:\\Keil_v5\\ARM\\PACK\\ARM\\CMSIS\\4.2.0\\CMSIS\\Include\\core_cmInstr.h"
|__asm___5_bsp_c_2c5c7607____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___5_bsp_c_2c5c7607____REVSH|
#line 144
|__asm___5_bsp_c_2c5c7607____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
