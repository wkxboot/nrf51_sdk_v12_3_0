; generated by Component: ARM Compiler 5.05 (build 41) Tool: ArmCC [4d0eb9]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\debug\bsp_btn_switch.o --asm_dir=.\DEBUG\ --list_dir=.\DEBUG\ --depend=.\debug\bsp_btn_switch.d --cpu=Cortex-M0 --apcs=interwork -O0 -I..\..\..\config -I..\..\..\..\..\..\components -I..\..\..\..\..\..\components\ble\ble_advertising -I..\..\..\..\..\..\components\ble\ble_dtm -I..\..\..\..\..\..\components\ble\ble_racp -I..\..\..\..\..\..\components\ble\ble_services\ble_ancs_c -I..\..\..\..\..\..\components\ble\ble_services\ble_ans_c -I..\..\..\..\..\..\components\ble\ble_services\ble_bas -I..\..\..\..\..\..\components\ble\ble_services\ble_bas_c -I..\..\..\..\..\..\components\ble\ble_services\ble_cscs -I..\..\..\..\..\..\components\ble\ble_services\ble_cts_c -I..\..\..\..\..\..\components\ble\ble_services\ble_dfu -I..\..\..\..\..\..\components\ble\ble_services\ble_dis -I..\..\..\..\..\..\components\ble\ble_services\ble_gls -I..\..\..\..\..\..\components\ble\ble_services\ble_hids -I..\..\..\..\..\..\components\ble\ble_services\ble_hrs -I..\..\..\..\..\..\components\ble\ble_services\ble_hrs_c -I..\..\..\..\..\..\components\ble\ble_services\ble_hts -I..\..\..\..\..\..\components\ble\ble_services\ble_ias -I..\..\..\..\..\..\components\ble\ble_services\ble_ias_c -I..\..\..\..\..\..\components\ble\ble_services\ble_lbs -I..\..\..\..\..\..\components\ble\ble_services\ble_lbs_c -I..\..\..\..\..\..\components\ble\ble_services\ble_lls -I..\..\..\..\..\..\components\ble\ble_services\ble_nus -I..\..\..\..\..\..\components\ble\ble_services\ble_nus_c -I..\..\..\..\..\..\components\ble\ble_services\ble_rscs -I..\..\..\..\..\..\components\ble\ble_services\ble_rscs_c -I..\..\..\..\..\..\components\ble\ble_services\ble_tps -I..\..\..\..\..\..\components\ble\common -I..\..\..\..\..\..\components\ble\nrf_ble_qwr -I..\..\..\..\..\..\components\ble\peer_manager -I..\..\..\..\..\..\components\boards -I..\..\..\..\..\..\components\drivers_nrf\adc -I..\..\..\..\..\..\components\drivers_nrf\clock -I..\..\..\..\..\..\components\drivers_nrf\common -I..\..\..\..\..\..\components\drivers_nrf\comp -I..\..\..\..\..\..\components\drivers_nrf\delay -I..\..\..\..\..\..\components\drivers_nrf\gpiote -I..\..\..\..\..\..\components\drivers_nrf\hal -I..\..\..\..\..\..\components\drivers_nrf\i2s -I..\..\..\..\..\..\components\drivers_nrf\lpcomp -I..\..\..\..\..\..\components\drivers_nrf\pdm -I..\..\..\..\..\..\components\drivers_nrf\power -I..\..\..\..\..\..\components\drivers_nrf\ppi -I..\..\..\..\..\..\components\drivers_nrf\pwm -I..\..\..\..\..\..\components\drivers_nrf\qdec -I..\..\..\..\..\..\components\drivers_nrf\rng -I..\..\..\..\..\..\components\drivers_nrf\rtc -I..\..\..\..\..\..\components\drivers_nrf\saadc -I..\..\..\..\..\..\components\drivers_nrf\spi_master -I..\..\..\..\..\..\components\drivers_nrf\spi_slave -I..\..\..\..\..\..\components\drivers_nrf\swi -I..\..\..\..\..\..\components\drivers_nrf\timer -I..\..\..\..\..\..\components\drivers_nrf\twi_master -I..\..\..\..\..\..\components\drivers_nrf\twis_slave -I..\..\..\..\..\..\components\drivers_nrf\uart -I..\..\..\..\..\..\components\drivers_nrf\usbd -I..\..\..\..\..\..\components\drivers_nrf\wdt -I..\..\..\..\..\..\components\libraries\bsp -I..\..\..\..\..\..\components\libraries\button -I..\..\..\..\..\..\components\libraries\crc16 -I..\..\..\..\..\..\components\libraries\crc32 -I..\..\..\..\..\..\components\libraries\csense -I..\..\..\..\..\..\components\libraries\csense_drv -I..\..\..\..\..\..\components\libraries\experimental_section_vars -I..\..\..\..\..\..\components\libraries\fds -I..\..\..\..\..\..\components\libraries\fstorage -I..\..\..\..\..\..\components\libraries\gpiote -I..\..\..\..\..\..\components\libraries\hardfault -I..\..\..\..\..\..\components\libraries\hci -I..\..\..\..\..\..\components\libraries\led_softblink -I..\..\..\..\..\..\components\libraries\log -I..\..\..\..\..\..\components\libraries\log\src -I..\..\..\..\..\..\components\libraries\low_power_pwm -I..\..\..\..\..\..\components\libraries\mem_manager -I..\..\..\..\..\..\components\libraries\pwm -I..\..\..\..\..\..\components\libraries\queue -I..\..\..\..\..\..\components\libraries\scheduler -I..\..\..\..\..\..\components\libraries\sensorsim -I..\..\..\..\..\..\components\libraries\slip -I..\..\..\..\..\..\components\libraries\timer -I..\..\..\..\..\..\components\libraries\twi -I..\..\..\..\..\..\components\libraries\uart -I..\..\..\..\..\..\components\libraries\usbd -I..\..\..\..\..\..\components\libraries\usbd\class\audio -I..\..\..\..\..\..\components\libraries\usbd\class\cdc -I..\..\..\..\..\..\components\libraries\usbd\class\cdc\acm -I..\..\..\..\..\..\components\libraries\usbd\class\hid -I..\..\..\..\..\..\components\libraries\usbd\class\hid\generic -I..\..\..\..\..\..\components\libraries\usbd\class\hid\kbd -I..\..\..\..\..\..\components\libraries\usbd\class\hid\mouse -I..\..\..\..\..\..\components\libraries\usbd\class\msc -I..\..\..\..\..\..\components\libraries\usbd\config -I..\..\..\..\..\..\components\libraries\util -I..\..\..\..\..\..\components\softdevice\common\softdevice_handler -I..\..\..\..\..\..\components\softdevice\s130\headers -I..\..\..\..\..\..\components\softdevice\s130\headers\nrf51 -I..\..\..\..\..\..\components\toolchain -I..\..\..\..\..\..\external\segger_rtt -I..\config -I..\..\..\..\..\..\components\ble\ble_services\ble_sls -ID:\development\nordic_ble\src_code\nrf51_sdk_v12_3_0\nRF5_SDK_12.3.0_d7731ad\examples\ble_peripheral\ble_app_smart_locker\JJDK_ZG_ZK\s130\arm5_no_packs\RTE -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\4.2.0\CMSIS\Include -IC:\Keil_v5\ARM\PACK\NordicSemiconductor\nRF_DeviceFamilyPack\8.11.1\Device\Include -D__MICROLIB -D_RTE_ -DNRF51 -DBLE_STACK_SUPPORT_REQD -DNRF51822 -DBOARD_JJDK_ZG_ZK -DNRF_SD_BLE_API_VERSION=2 -DS130 -DNRF51 -DSOFTDEVICE_PRESENT -DSWI_DISABLE0 --omf_browse=.\debug\bsp_btn_switch.crf ..\..\..\..\..\..\components\libraries\bsp\bsp_btn_switch.c]
                          THUMB

                          AREA ||i.bsp_btn_switch_event_handler||, CODE, READONLY, ALIGN=2

                  bsp_btn_switch_event_handler PROC
;;;202    
;;;203    void bsp_btn_switch_event_handler(bsp_event_t event)
000000  b510              PUSH     {r4,lr}
;;;204    {
000002  4604              MOV      r4,r0
;;;205    	switch(event)
000004  4620              MOV      r0,r4
000006  3816              SUBS     r0,r0,#0x16
000008  0003              MOVS     r3,r0
00000a  f7fffffe          BL       __ARM_common_switch8
00000e  0504              DCB      0x05,0x04
000010  12202830          DCB      0x12,0x20,0x28,0x30
000014  3500              DCB      0x35,0x00
;;;206    	{
;;;207    		case BSP_EVENT_UV_LAMP_DOOR_OPEN: 			
;;;208    		  uv_lamp_door_status=DEVICE_STATUS_OPENED;
000016  2001              MOVS     r0,#1
000018  491b              LDR      r1,|L1.136|
00001a  7008              STRB     r0,[r1,#0]
;;;209    		  if(uv_lamp_status==DEVICE_STATUS_OPENED)
00001c  481b              LDR      r0,|L1.140|
00001e  7800              LDRB     r0,[r0,#0]  ; uv_lamp_status
000020  2801              CMP      r0,#1
000022  d101              BNE      |L1.40|
;;;210    			{
;;;211    			bsp_close_uv_lamp_and_indicator_led();	
000024  f7fffffe          BL       bsp_close_uv_lamp_and_indicator_led
                  |L1.40|
;;;212    			}
;;;213    			NRF_LOG_INFO("BSP_EVENT_UV_LAMP_DOOR_OPEN!\r\n");
000028  a119              ADR      r1,|L1.144|
00002a  2003              MOVS     r0,#3
00002c  f7fffffe          BL       nrf_log_frontend_std_0
;;;214    		  break;		
000030  e027              B        |L1.130|
;;;215    		case BSP_EVENT_UV_LAMP_DOOR_CLOSE:
;;;216    			 uv_lamp_door_status=DEVICE_STATUS_CLOSED;
000032  2002              MOVS     r0,#2
000034  4914              LDR      r1,|L1.136|
000036  7008              STRB     r0,[r1,#0]
;;;217    		  if(uv_lamp_cmd==CONTROL_CMD_OPEN)
000038  4824              LDR      r0,|L1.204|
00003a  7800              LDRB     r0,[r0,#0]  ; uv_lamp_cmd
00003c  2801              CMP      r0,#1
00003e  d101              BNE      |L1.68|
;;;218    			{
;;;219    			bsp_open_uv_lamp_and_indicator_led();	
000040  f7fffffe          BL       bsp_open_uv_lamp_and_indicator_led
                  |L1.68|
;;;220    			}
;;;221    			NRF_LOG_INFO("BSP_EVENT_UV_LAMP_DOOR_CLOSE!\r\n");
000044  a122              ADR      r1,|L1.208|
000046  2003              MOVS     r0,#3
000048  f7fffffe          BL       nrf_log_frontend_std_0
;;;222    		  break;
00004c  e019              B        |L1.130|
;;;223        case BSP_EVENT_ELEC_LOCK_OPEN:
;;;224    			elec_lock_status=DEVICE_STATUS_OPENED;
00004e  2001              MOVS     r0,#1
000050  492f              LDR      r1,|L1.272|
000052  7008              STRB     r0,[r1,#0]
;;;225    			NRF_LOG_INFO("BSP_EVENT_ELEC_LOCK_OPEN!\r\n");
000054  a12f              ADR      r1,|L1.276|
000056  2003              MOVS     r0,#3
000058  f7fffffe          BL       nrf_log_frontend_std_0
;;;226    			break;
00005c  e011              B        |L1.130|
;;;227        case BSP_EVENT_ELEC_LOCK_CLOSE:
;;;228    	  	elec_lock_status=DEVICE_STATUS_CLOSED;
00005e  2002              MOVS     r0,#2
000060  492b              LDR      r1,|L1.272|
000062  7008              STRB     r0,[r1,#0]
;;;229    			NRF_LOG_INFO("BSP_EVENT_ELEC_LOCK_CLOSE!\r\n");
000064  a13a              ADR      r1,|L1.336|
000066  2003              MOVS     r0,#3
000068  f7fffffe          BL       nrf_log_frontend_std_0
;;;230    			break;
00006c  e009              B        |L1.130|
;;;231    		case BSP_EVENT_COIN_BOX_GET_COIN:
;;;232    			NRF_LOG_INFO("BSP_EVENT_COIN_BOX_GET_COIN!\r\n");
00006e  a147              ADR      r1,|L1.396|
000070  2003              MOVS     r0,#3
000072  f7fffffe          BL       nrf_log_frontend_std_0
;;;233    			break;
000076  e004              B        |L1.130|
;;;234    		default:
;;;235    			NRF_LOG_INFO(" ERROR EVENT!\r\n");
000078  a153              ADR      r1,|L1.456|
00007a  2003              MOVS     r0,#3
00007c  f7fffffe          BL       nrf_log_frontend_std_0
;;;236    			break;		
000080  bf00              NOP      
                  |L1.130|
000082  bf00              NOP                            ;214
;;;237    	}
;;;238    	
;;;239    }
000084  bd10              POP      {r4,pc}
;;;240    uint32_t bsp_btn_switch_init(uint32_t prescaler)
                          ENDP

000086  0000              DCW      0x0000
                  |L1.136|
                          DCD      uv_lamp_door_status
                  |L1.140|
                          DCD      uv_lamp_status
                  |L1.144|
000090  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:BSP_EVENT_UV_LAMP_DOOR_O"
000094  33326d42
000098  53505f42
00009c  544e5f53
0000a0  57495443
0000a4  482e633a
0000a8  494e464f
0000ac  3a425350
0000b0  5f455645
0000b4  4e545f55
0000b8  565f4c41
0000bc  4d505f44
0000c0  4f4f525f
0000c4  4f      
0000c5  50454e21          DCB      "PEN!\r\n",0
0000c9  0d0a00  
                  |L1.204|
                          DCD      uv_lamp_cmd
                  |L1.208|
0000d0  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:BSP_EVENT_UV_LAMP_DOOR_C"
0000d4  33326d42
0000d8  53505f42
0000dc  544e5f53
0000e0  57495443
0000e4  482e633a
0000e8  494e464f
0000ec  3a425350
0000f0  5f455645
0000f4  4e545f55
0000f8  565f4c41
0000fc  4d505f44
000100  4f4f525f
000104  43      
000105  4c4f5345          DCB      "LOSE!\r\n",0
000109  210d0a00
00010d  00                DCB      0
00010e  00                DCB      0
00010f  00                DCB      0
                  |L1.272|
                          DCD      elec_lock_status
                  |L1.276|
000114  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:BSP_EVENT_ELEC_LOCK_OPEN"
000118  33326d42
00011c  53505f42
000120  544e5f53
000124  57495443
000128  482e633a
00012c  494e464f
000130  3a425350
000134  5f455645
000138  4e545f45
00013c  4c45435f
000140  4c4f434b
000144  5f4f5045
000148  4e      
000149  210d0a00          DCB      "!\r\n",0
00014d  00                DCB      0
00014e  00                DCB      0
00014f  00                DCB      0
                  |L1.336|
000150  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:BSP_EVENT_ELEC_LOCK_CLOS"
000154  33326d42
000158  53505f42
00015c  544e5f53
000160  57495443
000164  482e633a
000168  494e464f
00016c  3a425350
000170  5f455645
000174  4e545f45
000178  4c45435f
00017c  4c4f434b
000180  5f434c4f
000184  53      
000185  45210d0a          DCB      "E!\r\n",0
000189  00      
00018a  00                DCB      0
00018b  00                DCB      0
                  |L1.396|
00018c  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:BSP_EVENT_COIN_BOX_GET_C"
000190  33326d42
000194  53505f42
000198  544e5f53
00019c  57495443
0001a0  482e633a
0001a4  494e464f
0001a8  3a425350
0001ac  5f455645
0001b0  4e545f43
0001b4  4f494e5f
0001b8  424f585f
0001bc  4745545f
0001c0  43      
0001c1  4f494e21          DCB      "OIN!\r\n",0
0001c5  0d0a00  
                  |L1.456|
0001c8  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO: ERROR EVENT!\r\n",0
0001cc  33326d42
0001d0  53505f42
0001d4  544e5f53
0001d8  57495443
0001dc  482e633a
0001e0  494e464f
0001e4  3a204552
0001e8  524f5220
0001ec  4556454e
0001f0  54210d0a
0001f4  00      
0001f5  00                DCB      0
0001f6  00                DCB      0
0001f7  00                DCB      0

                          AREA ||i.bsp_btn_switch_init||, CODE, READONLY, ALIGN=2

                  bsp_btn_switch_init PROC
;;;239    }
;;;240    uint32_t bsp_btn_switch_init(uint32_t prescaler)
000000  b570              PUSH     {r4-r6,lr}
;;;241    {
000002  4604              MOV      r4,r0
;;;242    	uint32_t err_code;
;;;243    	bsp_btn_switch_local_prescaler=prescaler;
000004  480a              LDR      r0,|L2.48|
000006  6004              STR      r4,[r0,#0]  ; bsp_btn_switch_local_prescaler
;;;244    	err_code=app_timer_create(&open_lock_wait_timer_id,APP_TIMER_MODE_SINGLE_SHOT,bsp_open_elec_lock_wait_timeout_handler);
000008  4a0a              LDR      r2,|L2.52|
00000a  2100              MOVS     r1,#0
00000c  480a              LDR      r0,|L2.56|
00000e  f7fffffe          BL       app_timer_create
000012  4605              MOV      r5,r0
;;;245    	app_timer_create(&sys_run_led_timer_id,APP_TIMER_MODE_REPEATED,bsp_sys_run_led_timeout_handler);
000014  4a09              LDR      r2,|L2.60|
000016  2101              MOVS     r1,#1
000018  4809              LDR      r0,|L2.64|
00001a  f7fffffe          BL       app_timer_create
;;;246    	if(err_code!=NRF_SUCCESS)
00001e  2d00              CMP      r5,#0
000020  d001              BEQ      |L2.38|
;;;247    		return err_code;
000022  4628              MOV      r0,r5
                  |L2.36|
;;;248    	err_code=bsp_sls_env_value_init();
;;;249    	
;;;250    	return err_code;
;;;251    }
000024  bd70              POP      {r4-r6,pc}
                  |L2.38|
000026  f7fffffe          BL       bsp_sls_env_value_init
00002a  4605              MOV      r5,r0                 ;248
00002c  4628              MOV      r0,r5                 ;250
00002e  e7f9              B        |L2.36|
;;;252    
                          ENDP

                  |L2.48|
                          DCD      bsp_btn_switch_local_prescaler
                  |L2.52|
                          DCD      bsp_open_elec_lock_wait_timeout_handler
                  |L2.56|
                          DCD      open_lock_wait_timer_id
                  |L2.60|
                          DCD      bsp_sys_run_led_timeout_handler
                  |L2.64|
                          DCD      sys_run_led_timer_id

                          AREA ||i.bsp_cb_on_elec_lock_cmd_write||, CODE, READONLY, ALIGN=2

                  bsp_cb_on_elec_lock_cmd_write PROC
;;;157    //ble smart locker service 写elec_lock_cmd回调
;;;158     void bsp_cb_on_elec_lock_cmd_write(ble_sls_t * p_sls, ble_gatts_evt_write_t * p_evt_write)
000000  b538              PUSH     {r3-r5,lr}
;;;159    {
000002  4605              MOV      r5,r0
000004  460c              MOV      r4,r1
;;;160    	NRF_LOG_INFO("write elec_lock cmd->len:%d cmd:%d current elec_lock_cmd:%d\r\n",
000006  480c              LDR      r0,|L3.56|
000008  7800              LDRB     r0,[r0,#0]  ; elec_lock_cmd
00000a  9000              STR      r0,[sp,#0]
00000c  7b23              LDRB     r3,[r4,#0xc]
00000e  8962              LDRH     r2,[r4,#0xa]
000010  490a              LDR      r1,|L3.60|
000012  2003              MOVS     r0,#3
000014  f7fffffe          BL       nrf_log_frontend_std_3
;;;161    	              p_evt_write->len,
;;;162    	              *p_evt_write->data,
;;;163    	              elec_lock_cmd);
;;;164    	
;;;165    	if(elec_lock_cmd==CONTROL_CMD_OPEN)
000018  4807              LDR      r0,|L3.56|
00001a  7800              LDRB     r0,[r0,#0]  ; elec_lock_cmd
00001c  2801              CMP      r0,#1
00001e  d106              BNE      |L3.46|
;;;166    	{	
;;;167    	 bsp_open_elec_lock();	
000020  f7fffffe          BL       bsp_open_elec_lock
;;;168       NRF_LOG_INFO("open elec_lock!\r\n");	
000024  a106              ADR      r1,|L3.64|
000026  2003              MOVS     r0,#3
000028  f7fffffe          BL       nrf_log_frontend_std_0
00002c  e003              B        |L3.54|
                  |L3.46|
;;;169    	}
;;;170    	else
;;;171    	{
;;;172    		NRF_LOG_INFO("elec_lock cmd err!\r\n");
00002e  a110              ADR      r1,|L3.112|
000030  2003              MOVS     r0,#3
000032  f7fffffe          BL       nrf_log_frontend_std_0
                  |L3.54|
;;;173    	}	  
;;;174    }
000036  bd38              POP      {r3-r5,pc}
;;;175    
                          ENDP

                  |L3.56|
                          DCD      elec_lock_cmd
                  |L3.60|
                          DCD      ||.conststring||+0x158
                  |L3.64|
000040  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:open elec_lock!\r\n",0
000044  33326d42
000048  53505f42
00004c  544e5f53
000050  57495443
000054  482e633a
000058  494e464f
00005c  3a6f7065
000060  6e20656c
000064  65635f6c
000068  6f636b21
00006c  0d0a00  
00006f  00                DCB      0
                  |L3.112|
000070  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:elec_lock cmd err!\r\n",0
000074  33326d42
000078  53505f42
00007c  544e5f53
000080  57495443
000084  482e633a
000088  494e464f
00008c  3a656c65
000090  635f6c6f
000094  636b2063
000098  6d642065
00009c  7272210d
0000a0  0a00    
0000a2  00                DCB      0
0000a3  00                DCB      0

                          AREA ||i.bsp_cb_on_fan_negative_ion_cmd_write||, CODE, READONLY, ALIGN=2

                  bsp_cb_on_fan_negative_ion_cmd_write PROC
;;;132    //ble smart locker service 写fan_negative_ion_cmd回调
;;;133     void bsp_cb_on_fan_negative_ion_cmd_write(ble_sls_t * p_sls, ble_gatts_evt_write_t * p_evt_write)
000000  b538              PUSH     {r3-r5,lr}
;;;134    {
000002  4605              MOV      r5,r0
000004  460c              MOV      r4,r1
;;;135    	NRF_LOG_INFO("write fan_negative_ion cmd->len:%d cmd:%d current fan_negative_ion_cmd:%d\r\n",
000006  4812              LDR      r0,|L4.80|
000008  7800              LDRB     r0,[r0,#0]  ; fan_negative_ion_cmd
00000a  9000              STR      r0,[sp,#0]
00000c  7b23              LDRB     r3,[r4,#0xc]
00000e  8962              LDRH     r2,[r4,#0xa]
000010  4910              LDR      r1,|L4.84|
000012  2003              MOVS     r0,#3
000014  f7fffffe          BL       nrf_log_frontend_std_3
;;;136    	              p_evt_write->len,
;;;137    	              *p_evt_write->data,
;;;138    	              fan_negative_ion_cmd);
;;;139    	
;;;140    		if(fan_negative_ion_cmd==CONTROL_CMD_OPEN)
000018  480d              LDR      r0,|L4.80|
00001a  7800              LDRB     r0,[r0,#0]  ; fan_negative_ion_cmd
00001c  2801              CMP      r0,#1
00001e  d106              BNE      |L4.46|
;;;141    	{
;;;142    		
;;;143    	bsp_open_fan_negative_ion_and_indicator_led();	
000020  f7fffffe          BL       bsp_open_fan_negative_ion_and_indicator_led
;;;144      NRF_LOG_INFO("open fan_ngt_ion!\r\n");
000024  a10c              ADR      r1,|L4.88|
000026  2003              MOVS     r0,#3
000028  f7fffffe          BL       nrf_log_frontend_std_0
00002c  e00e              B        |L4.76|
                  |L4.46|
;;;145    		
;;;146    	}
;;;147    	else if(fan_negative_ion_cmd==CONTROL_CMD_CLOSE)
00002e  4808              LDR      r0,|L4.80|
000030  7800              LDRB     r0,[r0,#0]  ; fan_negative_ion_cmd
000032  2802              CMP      r0,#2
000034  d106              BNE      |L4.68|
;;;148    	{
;;;149    	  bsp_close_fan_negative_ion_and_indicator_led();
000036  f7fffffe          BL       bsp_close_fan_negative_ion_and_indicator_led
;;;150        NRF_LOG_INFO("close fan_ngt_ion!\r\n");		
00003a  a114              ADR      r1,|L4.140|
00003c  2003              MOVS     r0,#3
00003e  f7fffffe          BL       nrf_log_frontend_std_0
000042  e003              B        |L4.76|
                  |L4.68|
;;;151    	}
;;;152    	else
;;;153    	{
;;;154    		NRF_LOG_INFO("fan_ngt_ion cmd err!\r\n");
000044  a11e              ADR      r1,|L4.192|
000046  2003              MOVS     r0,#3
000048  f7fffffe          BL       nrf_log_frontend_std_0
                  |L4.76|
;;;155    	}
;;;156    }
00004c  bd38              POP      {r3-r5,pc}
;;;157    //ble smart locker service 写elec_lock_cmd回调
                          ENDP

00004e  0000              DCW      0x0000
                  |L4.80|
                          DCD      fan_negative_ion_cmd
                  |L4.84|
                          DCD      ||.conststring||+0xec
                  |L4.88|
000058  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:open fan_ngt_ion!\r\n",0
00005c  33326d42
000060  53505f42
000064  544e5f53
000068  57495443
00006c  482e633a
000070  494e464f
000074  3a6f7065
000078  6e206661
00007c  6e5f6e67
000080  745f696f
000084  6e210d0a
000088  00      
000089  00                DCB      0
00008a  00                DCB      0
00008b  00                DCB      0
                  |L4.140|
00008c  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:close fan_ngt_ion!\r\n",0
000090  33326d42
000094  53505f42
000098  544e5f53
00009c  57495443
0000a0  482e633a
0000a4  494e464f
0000a8  3a636c6f
0000ac  73652066
0000b0  616e5f6e
0000b4  67745f69
0000b8  6f6e210d
0000bc  0a00    
0000be  00                DCB      0
0000bf  00                DCB      0
                  |L4.192|
0000c0  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:fan_ngt_ion cmd err!\r\n"
0000c4  33326d42
0000c8  53505f42
0000cc  544e5f53
0000d0  57495443
0000d4  482e633a
0000d8  494e464f
0000dc  3a66616e
0000e0  5f6e6774
0000e4  5f696f6e
0000e8  20636d64
0000ec  20657272
0000f0  210d0a  
0000f3  00                DCB      0

                          AREA ||i.bsp_cb_on_uv_lamp_cmd_write||, CODE, READONLY, ALIGN=2

                  bsp_cb_on_uv_lamp_cmd_write PROC
;;;106    //ble smart locker service 写uv_lamp_cmd回调
;;;107     void bsp_cb_on_uv_lamp_cmd_write(ble_sls_t * p_sls, ble_gatts_evt_write_t * p_evt_write)
000000  b538              PUSH     {r3-r5,lr}
;;;108    {
000002  4605              MOV      r5,r0
000004  460c              MOV      r4,r1
;;;109    	NRF_LOG_INFO("write uv_lamp cmd->len:%d cmd:%d current uv_lamp_cmd:%d\r\n",
000006  4812              LDR      r0,|L5.80|
000008  7800              LDRB     r0,[r0,#0]  ; uv_lamp_cmd
00000a  9000              STR      r0,[sp,#0]
00000c  7b23              LDRB     r3,[r4,#0xc]
00000e  8962              LDRH     r2,[r4,#0xa]
000010  4910              LDR      r1,|L5.84|
000012  2003              MOVS     r0,#3
000014  f7fffffe          BL       nrf_log_frontend_std_3
;;;110    	              p_evt_write->len,
;;;111    	              *p_evt_write->data,
;;;112    	              uv_lamp_cmd);
;;;113    
;;;114    	if(uv_lamp_cmd==CONTROL_CMD_OPEN)
000018  480d              LDR      r0,|L5.80|
00001a  7800              LDRB     r0,[r0,#0]  ; uv_lamp_cmd
00001c  2801              CMP      r0,#1
00001e  d106              BNE      |L5.46|
;;;115    	{		
;;;116    	bsp_open_uv_lamp_and_indicator_led();	
000020  f7fffffe          BL       bsp_open_uv_lamp_and_indicator_led
;;;117      NRF_LOG_INFO("open uv_lamp!\r\n");
000024  a10c              ADR      r1,|L5.88|
000026  2003              MOVS     r0,#3
000028  f7fffffe          BL       nrf_log_frontend_std_0
00002c  e00e              B        |L5.76|
                  |L5.46|
;;;118    		
;;;119    	}
;;;120    	else if(uv_lamp_cmd==CONTROL_CMD_CLOSE)
00002e  4808              LDR      r0,|L5.80|
000030  7800              LDRB     r0,[r0,#0]  ; uv_lamp_cmd
000032  2802              CMP      r0,#2
000034  d106              BNE      |L5.68|
;;;121    	{
;;;122    		bsp_close_uv_lamp_and_indicator_led();
000036  f7fffffe          BL       bsp_close_uv_lamp_and_indicator_led
;;;123        NRF_LOG_INFO("close uv_lamp!\r\n");		
00003a  a113              ADR      r1,|L5.136|
00003c  2003              MOVS     r0,#3
00003e  f7fffffe          BL       nrf_log_frontend_std_0
000042  e003              B        |L5.76|
                  |L5.68|
;;;124    	}
;;;125    	else
;;;126    	{
;;;127    		NRF_LOG_INFO("uv_lamp cmd err!\r\n");
000044  a11c              ADR      r1,|L5.184|
000046  2003              MOVS     r0,#3
000048  f7fffffe          BL       nrf_log_frontend_std_0
                  |L5.76|
;;;128    	}
;;;129    }
00004c  bd38              POP      {r3-r5,pc}
;;;130    
                          ENDP

00004e  0000              DCW      0x0000
                  |L5.80|
                          DCD      uv_lamp_cmd
                  |L5.84|
                          DCD      ||.conststring||+0x94
                  |L5.88|
000058  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:open uv_lamp!\r\n",0
00005c  33326d42
000060  53505f42
000064  544e5f53
000068  57495443
00006c  482e633a
000070  494e464f
000074  3a6f7065
000078  6e207576
00007c  5f6c616d
000080  70210d0a
000084  00      
000085  00                DCB      0
000086  00                DCB      0
000087  00                DCB      0
                  |L5.136|
000088  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:close uv_lamp!\r\n",0
00008c  33326d42
000090  53505f42
000094  544e5f53
000098  57495443
00009c  482e633a
0000a0  494e464f
0000a4  3a636c6f
0000a8  73652075
0000ac  765f6c61
0000b0  6d70210d
0000b4  0a00    
0000b6  00                DCB      0
0000b7  00                DCB      0
                  |L5.184|
0000b8  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:uv_lamp cmd err!\r\n",0
0000bc  33326d42
0000c0  53505f42
0000c4  544e5f53
0000c8  57495443
0000cc  482e633a
0000d0  494e464f
0000d4  3a75765f
0000d8  6c616d70
0000dc  20636d64
0000e0  20657272
0000e4  210d0a00

                          AREA ||i.bsp_close_fan_negative_ion_and_indicator_led||, CODE, READONLY, ALIGN=2

                  bsp_close_fan_negative_ion_and_indicator_led PROC
;;;57     //关闭风扇和负氧离子
;;;58     static void bsp_close_fan_negative_ion_and_indicator_led(void)
000000  b510              PUSH     {r4,lr}
;;;59     {
;;;60        bsp_board_switch_off(BSP_SWITCH_FAN_NEGATIVE_ION);
000002  2003              MOVS     r0,#3
000004  f7fffffe          BL       bsp_board_switch_off
;;;61        bsp_board_led_off(BSP_LED_INDICATE_USER_FAN_NEGATIVE_ION_RUN);
000008  2000              MOVS     r0,#0
00000a  f7fffffe          BL       bsp_board_led_off
;;;62        fan_negative_ion_status=DEVICE_STATUS_CLOSED;
00000e  2002              MOVS     r0,#2
000010  4903              LDR      r1,|L6.32|
000012  7008              STRB     r0,[r1,#0]
;;;63        NRF_LOG_INFO("close fan negative ion and indicator led!\r\n");
000014  4903              LDR      r1,|L6.36|
000016  2003              MOVS     r0,#3
000018  f7fffffe          BL       nrf_log_frontend_std_0
;;;64     }
00001c  bd10              POP      {r4,pc}
;;;65     
                          ENDP

00001e  0000              DCW      0x0000
                  |L6.32|
                          DCD      fan_negative_ion_status
                  |L6.36|
                          DCD      ||.conststring||+0x48

                          AREA ||i.bsp_close_uv_lamp_and_indicator_led||, CODE, READONLY, ALIGN=2

                  bsp_close_uv_lamp_and_indicator_led PROC
;;;40     //关闭消毒灯和指示灯
;;;41     static void bsp_close_uv_lamp_and_indicator_led(void)
000000  b510              PUSH     {r4,lr}
;;;42     {
;;;43        bsp_board_switch_off(BSP_SWITCH_UV_LAMP);
000002  2001              MOVS     r0,#1
000004  f7fffffe          BL       bsp_board_switch_off
;;;44        bsp_board_led_off(BSP_LED_INDICATE_USER_UV_LAMP_RUN); 
000008  2001              MOVS     r0,#1
00000a  f7fffffe          BL       bsp_board_led_off
;;;45        uv_lamp_status=DEVICE_STATUS_CLOSED;
00000e  2002              MOVS     r0,#2
000010  4903              LDR      r1,|L7.32|
000012  7008              STRB     r0,[r1,#0]
;;;46        NRF_LOG_INFO("close uv lamp and indicator led!\r\n");
000014  a103              ADR      r1,|L7.36|
000016  2003              MOVS     r0,#3
000018  f7fffffe          BL       nrf_log_frontend_std_0
;;;47     }
00001c  bd10              POP      {r4,pc}
;;;48     
                          ENDP

00001e  0000              DCW      0x0000
                  |L7.32|
                          DCD      uv_lamp_status
                  |L7.36|
000024  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:close uv lamp and indica"
000028  33326d42
00002c  53505f42
000030  544e5f53
000034  57495443
000038  482e633a
00003c  494e464f
000040  3a636c6f
000044  73652075
000048  76206c61
00004c  6d702061
000050  6e642069
000054  6e646963
000058  61      
000059  746f7220          DCB      "tor led!\r\n",0
00005d  6c656421
000061  0d0a00  

                          AREA ||i.bsp_open_elec_lock||, CODE, READONLY, ALIGN=2

                  bsp_open_elec_lock PROC
;;;66     //开锁
;;;67     static void bsp_open_elec_lock(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;68     {
;;;69     	static uint8_t open_try_times=DEFAULT_OPEN_LOCK_TRY_TIMES;
;;;70     	NRF_LOG_INFO("cur open time_remain:%d",open_try_times);
000002  4824              LDR      r0,|L8.148|
000004  7802              LDRB     r2,[r0,#0]  ; open_try_times
000006  a124              ADR      r1,|L8.152|
000008  2003              MOVS     r0,#3
00000a  f7fffffe          BL       nrf_log_frontend_std_1
;;;71       if(elec_lock_status==DEVICE_STATUS_CLOSED && open_try_times>0)
00000e  4830              LDR      r0,|L8.208|
000010  7800              LDRB     r0,[r0,#0]  ; elec_lock_status
000012  2802              CMP      r0,#2
000014  d12d              BNE      |L8.114|
000016  481f              LDR      r0,|L8.148|
000018  7800              LDRB     r0,[r0,#0]  ; open_try_times
00001a  2800              CMP      r0,#0
00001c  dd29              BLE      |L8.114|
;;;72       {	
;;;73     	 open_try_times--;
00001e  481d              LDR      r0,|L8.148|
000020  7800              LDRB     r0,[r0,#0]  ; open_try_times
000022  1e40              SUBS     r0,r0,#1
000024  491b              LDR      r1,|L8.148|
000026  7008              STRB     r0,[r1,#0]
;;;74        bsp_board_switch_on(BSP_SWITCH_ELEC_LOCK);
000028  2002              MOVS     r0,#2
00002a  f7fffffe          BL       bsp_board_switch_on
;;;75        app_timer_start(open_lock_wait_timer_id,APP_TIMER_TICKS(OPEN_LOCK_WAIT_TIMEOUT_MS,bsp_btn_switch_local_prescaler),NULL);
00002e  4829              LDR      r0,|L8.212|
000030  6800              LDR      r0,[r0,#0]  ; bsp_btn_switch_local_prescaler
000032  1c40              ADDS     r0,r0,#1
000034  217d              MOVS     r1,#0x7d
000036  00c9              LSLS     r1,r1,#3
000038  4348              MULS     r0,r1,r0
00003a  4607              MOV      r7,r0
00003c  4825              LDR      r0,|L8.212|
00003e  6800              LDR      r0,[r0,#0]  ; bsp_btn_switch_local_prescaler
000040  1c40              ADDS     r0,r0,#1
000042  4348              MULS     r0,r1,r0
000044  0840              LSRS     r0,r0,#1
000046  2100              MOVS     r1,#0
000048  2319              MOVS     r3,#0x19
00004a  049b              LSLS     r3,r3,#18
00004c  18c5              ADDS     r5,r0,r3
00004e  4149              ADCS     r1,r1,r1
000050  463a              MOV      r2,r7
000052  2300              MOVS     r3,#0
000054  4628              MOV      r0,r5
000056  f7fffffe          BL       __aeabi_uldivmod
00005a  4604              MOV      r4,r0
00005c  2200              MOVS     r2,#0
00005e  4621              MOV      r1,r4
000060  481d              LDR      r0,|L8.216|
000062  6800              LDR      r0,[r0,#0]  ; open_lock_wait_timer_id
000064  f7fffffe          BL       app_timer_start
;;;76     	 NRF_LOG_INFO("open elec_lock try again!\r\n");
000068  a11c              ADR      r1,|L8.220|
00006a  2003              MOVS     r0,#3
00006c  f7fffffe          BL       nrf_log_frontend_std_0
000070  e00f              B        |L8.146|
                  |L8.114|
;;;77     	}
;;;78     	else
;;;79     	{
;;;80     		open_try_times=DEFAULT_OPEN_LOCK_TRY_TIMES;
000072  2003              MOVS     r0,#3
000074  4907              LDR      r1,|L8.148|
000076  7008              STRB     r0,[r1,#0]
;;;81     		if(elec_lock_status==DEVICE_STATUS_OPENED)
000078  4815              LDR      r0,|L8.208|
00007a  7800              LDRB     r0,[r0,#0]  ; elec_lock_status
00007c  2801              CMP      r0,#1
00007e  d104              BNE      |L8.138|
;;;82     		{
;;;83     			NRF_LOG_INFO("open elec_lock successed!\r\n");
000080  a125              ADR      r1,|L8.280|
000082  2003              MOVS     r0,#3
000084  f7fffffe          BL       nrf_log_frontend_std_0
000088  e003              B        |L8.146|
                  |L8.138|
;;;84     		}
;;;85     	  else
;;;86     		{
;;;87     			NRF_LOG_INFO("open elec_lock failed!\r\n");
00008a  a132              ADR      r1,|L8.340|
00008c  2003              MOVS     r0,#3
00008e  f7fffffe          BL       nrf_log_frontend_std_0
                  |L8.146|
;;;88     		}
;;;89     	}
;;;90     }
000092  bdf8              POP      {r3-r7,pc}
;;;91     //开锁等待
                          ENDP

                  |L8.148|
                          DCD      open_try_times
                  |L8.152|
000098  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:cur open time_remain:%d",0
00009c  33326d42
0000a0  53505f42
0000a4  544e5f53
0000a8  57495443
0000ac  482e633a
0000b0  494e464f
0000b4  3a637572
0000b8  206f7065
0000bc  6e207469
0000c0  6d655f72
0000c4  656d6169
0000c8  6e3a2564
0000cc  00      
0000cd  00                DCB      0
0000ce  00                DCB      0
0000cf  00                DCB      0
                  |L8.208|
                          DCD      elec_lock_status
                  |L8.212|
                          DCD      bsp_btn_switch_local_prescaler
                  |L8.216|
                          DCD      open_lock_wait_timer_id
                  |L8.220|
0000dc  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:open elec_lock try again"
0000e0  33326d42
0000e4  53505f42
0000e8  544e5f53
0000ec  57495443
0000f0  482e633a
0000f4  494e464f
0000f8  3a6f7065
0000fc  6e20656c
000100  65635f6c
000104  6f636b20
000108  74727920
00010c  61676169
000110  6e      
000111  210d0a00          DCB      "!\r\n",0
000115  00                DCB      0
000116  00                DCB      0
000117  00                DCB      0
                  |L8.280|
000118  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:open elec_lock successed"
00011c  33326d42
000120  53505f42
000124  544e5f53
000128  57495443
00012c  482e633a
000130  494e464f
000134  3a6f7065
000138  6e20656c
00013c  65635f6c
000140  6f636b20
000144  73756363
000148  65737365
00014c  64      
00014d  210d0a00          DCB      "!\r\n",0
000151  00                DCB      0
000152  00                DCB      0
000153  00                DCB      0
                  |L8.340|
000154  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:open elec_lock failed!\r"
000158  33326d42
00015c  53505f42
000160  544e5f53
000164  57495443
000168  482e633a
00016c  494e464f
000170  3a6f7065
000174  6e20656c
000178  65635f6c
00017c  6f636b20
000180  6661696c
000184  6564210d
000188  0a00              DCB      "\n",0
00018a  00                DCB      0
00018b  00                DCB      0

                          AREA ||i.bsp_open_elec_lock_wait_timeout_handler||, CODE, READONLY, ALIGN=1

                  bsp_open_elec_lock_wait_timeout_handler PROC
;;;91     //开锁等待
;;;92     static void bsp_open_elec_lock_wait_timeout_handler(void * p_context)
000000  b510              PUSH     {r4,lr}
;;;93     {
000002  4604              MOV      r4,r0
;;;94     	 UNUSED_PARAMETER(p_context);
;;;95        bsp_board_switch_off(BSP_SWITCH_ELEC_LOCK);
000004  2002              MOVS     r0,#2
000006  f7fffffe          BL       bsp_board_switch_off
;;;96     	 bsp_open_elec_lock();//再次开锁
00000a  f7fffffe          BL       bsp_open_elec_lock
;;;97     }
00000e  bd10              POP      {r4,pc}
;;;98     
                          ENDP


                          AREA ||i.bsp_open_fan_negative_ion_and_indicator_led||, CODE, READONLY, ALIGN=2

                  bsp_open_fan_negative_ion_and_indicator_led PROC
;;;49     //开启风扇和负氧离子
;;;50     static void bsp_open_fan_negative_ion_and_indicator_led(void)
000000  b510              PUSH     {r4,lr}
;;;51     {
;;;52        bsp_board_switch_on(BSP_SWITCH_FAN_NEGATIVE_ION);
000002  2003              MOVS     r0,#3
000004  f7fffffe          BL       bsp_board_switch_on
;;;53        bsp_board_led_on(BSP_LED_INDICATE_USER_FAN_NEGATIVE_ION_RUN);
000008  2000              MOVS     r0,#0
00000a  f7fffffe          BL       bsp_board_led_on
;;;54        fan_negative_ion_status=DEVICE_STATUS_OPENED;
00000e  2001              MOVS     r0,#1
000010  4903              LDR      r1,|L10.32|
000012  7008              STRB     r0,[r1,#0]
;;;55     	 NRF_LOG_INFO("open fan negative ion and indicator led!\r\n");
000014  4903              LDR      r1,|L10.36|
000016  2003              MOVS     r0,#3
000018  f7fffffe          BL       nrf_log_frontend_std_0
;;;56     }
00001c  bd10              POP      {r4,pc}
;;;57     //关闭风扇和负氧离子
                          ENDP

00001e  0000              DCW      0x0000
                  |L10.32|
                          DCD      fan_negative_ion_status
                  |L10.36|
                          DCD      ||.conststring||

                          AREA ||i.bsp_open_uv_lamp_and_indicator_led||, CODE, READONLY, ALIGN=2

                  bsp_open_uv_lamp_and_indicator_led PROC
;;;32     //开启消毒灯和指示灯
;;;33     static void bsp_open_uv_lamp_and_indicator_led(void)
000000  b510              PUSH     {r4,lr}
;;;34     {
;;;35        bsp_board_switch_on(BSP_SWITCH_UV_LAMP);
000002  2001              MOVS     r0,#1
000004  f7fffffe          BL       bsp_board_switch_on
;;;36        bsp_board_led_on(BSP_LED_INDICATE_USER_UV_LAMP_RUN);   
000008  2001              MOVS     r0,#1
00000a  f7fffffe          BL       bsp_board_led_on
;;;37        uv_lamp_status=DEVICE_STATUS_OPENED;
00000e  2001              MOVS     r0,#1
000010  4903              LDR      r1,|L11.32|
000012  7008              STRB     r0,[r1,#0]
;;;38     	 NRF_LOG_INFO("open uv lamp and indicator led!\r\n");
000014  a103              ADR      r1,|L11.36|
000016  2003              MOVS     r0,#3
000018  f7fffffe          BL       nrf_log_frontend_std_0
;;;39     }
00001c  bd10              POP      {r4,pc}
;;;40     //关闭消毒灯和指示灯
                          ENDP

00001e  0000              DCW      0x0000
                  |L11.32|
                          DCD      uv_lamp_status
                  |L11.36|
000024  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:open uv lamp and indicat"
000028  33326d42
00002c  53505f42
000030  544e5f53
000034  57495443
000038  482e633a
00003c  494e464f
000040  3a6f7065
000044  6e207576
000048  206c616d
00004c  7020616e
000050  6420696e
000054  64696361
000058  74      
000059  6f72206c          DCB      "or led!\r\n",0
00005d  6564210d
000061  0a00    
000063  00                DCB      0

                          AREA ||i.bsp_sls_env_value_init||, CODE, READONLY, ALIGN=2

                  bsp_sls_env_value_init PROC
;;;176    
;;;177    static uint32_t bsp_sls_env_value_init(void)
000000  b510              PUSH     {r4,lr}
;;;178    {
;;;179    
;;;180    	 uv_lamp_cmd          = DEVICE_STATUS_CLOSED;
000002  2002              MOVS     r0,#2
000004  4916              LDR      r1,|L12.96|
000006  7008              STRB     r0,[r1,#0]
;;;181       fan_negative_ion_cmd = DEVICE_STATUS_CLOSED;
000008  4916              LDR      r1,|L12.100|
00000a  7008              STRB     r0,[r1,#0]
;;;182       elec_lock_cmd        = DEVICE_STATUS_CLOSED;
00000c  4916              LDR      r1,|L12.104|
00000e  7008              STRB     r0,[r1,#0]
;;;183    
;;;184    	if(bsp_board_button_state_get(BSP_BUTTON_UV_LAMP_DOOR))
000010  2001              MOVS     r0,#1
000012  f7fffffe          BL       bsp_board_button_state_get
000016  2800              CMP      r0,#0
000018  d003              BEQ      |L12.34|
;;;185      uv_lamp_door_status     = DEVICE_STATUS_CLOSED;
00001a  2002              MOVS     r0,#2
00001c  4913              LDR      r1,|L12.108|
00001e  7008              STRB     r0,[r1,#0]
000020  e002              B        |L12.40|
                  |L12.34|
;;;186    	else
;;;187      uv_lamp_door_status     = DEVICE_STATUS_OPENED;
000022  2001              MOVS     r0,#1
000024  4911              LDR      r1,|L12.108|
000026  7008              STRB     r0,[r1,#0]
                  |L12.40|
;;;188    	
;;;189    	if(bsp_board_button_state_get(BSP_BUTTON_ELEC_LOCK))
000028  2000              MOVS     r0,#0
00002a  f7fffffe          BL       bsp_board_button_state_get
00002e  2800              CMP      r0,#0
000030  d003              BEQ      |L12.58|
;;;190    	elec_lock_status     = DEVICE_STATUS_CLOSED;
000032  2002              MOVS     r0,#2
000034  490e              LDR      r1,|L12.112|
000036  7008              STRB     r0,[r1,#0]
000038  e002              B        |L12.64|
                  |L12.58|
;;;191    	else
;;;192      elec_lock_status     = DEVICE_STATUS_OPENED;;
00003a  2001              MOVS     r0,#1
00003c  490c              LDR      r1,|L12.112|
00003e  7008              STRB     r0,[r1,#0]
                  |L12.64|
;;;193    	
;;;194      uv_lamp_status          = DEVICE_STATUS_CLOSED;   
000040  2002              MOVS     r0,#2
000042  490c              LDR      r1,|L12.116|
000044  7008              STRB     r0,[r1,#0]
;;;195      fan_negative_ion_status = DEVICE_STATUS_CLOSED;
000046  490c              LDR      r1,|L12.120|
000048  7008              STRB     r0,[r1,#0]
;;;196    	
;;;197    	NRF_LOG_INFO("onstart uv_lamp_door_status:%d elec_lock_status:%d\r\n",
00004a  4809              LDR      r0,|L12.112|
00004c  7803              LDRB     r3,[r0,#0]  ; elec_lock_status
00004e  4807              LDR      r0,|L12.108|
000050  7802              LDRB     r2,[r0,#0]  ; uv_lamp_door_status
000052  490a              LDR      r1,|L12.124|
000054  2003              MOVS     r0,#3
000056  f7fffffe          BL       nrf_log_frontend_std_2
;;;198    	             uv_lamp_door_status,elec_lock_status);
;;;199    
;;;200    	return NRF_SUCCESS;
00005a  2000              MOVS     r0,#0
;;;201    }
00005c  bd10              POP      {r4,pc}
;;;202    
                          ENDP

00005e  0000              DCW      0x0000
                  |L12.96|
                          DCD      uv_lamp_cmd
                  |L12.100|
                          DCD      fan_negative_ion_cmd
                  |L12.104|
                          DCD      elec_lock_cmd
                  |L12.108|
                          DCD      uv_lamp_door_status
                  |L12.112|
                          DCD      elec_lock_status
                  |L12.116|
                          DCD      uv_lamp_status
                  |L12.120|
                          DCD      fan_negative_ion_status
                  |L12.124|
                          DCD      ||.conststring||+0x1b4

                          AREA ||i.bsp_sys_run_led_timeout_handler||, CODE, READONLY, ALIGN=1

                  bsp_sys_run_led_timeout_handler PROC
;;;99     //系统运行灯
;;;100    static void bsp_sys_run_led_timeout_handler(void * p_context)
000000  b510              PUSH     {r4,lr}
;;;101    {
000002  4604              MOV      r4,r0
;;;102    	UNUSED_PARAMETER(p_context);
;;;103    	bsp_board_led_invert(BSP_LED_INDICATE_USER_SYS_RUN);
000004  2002              MOVS     r0,#2
000006  f7fffffe          BL       bsp_board_led_invert
;;;104    }
00000a  bd10              POP      {r4,pc}
;;;105    
                          ENDP


                          AREA ||i.uint8_to_string||, CODE, READONLY, ALIGN=1

                  uint8_to_string PROC
;;;253    /******8位数值转换为字符串*****/
;;;254    uint8_t *uint8_to_string(uint8_t src)
000000  4601              MOV      r1,r0
;;;255    {
;;;256    #if UART_DEBUG > 0
;;;257      uint8_t       i;
;;;258      uint8_t     dst[1];
;;;259      uint8_t*pAddr =dst;
;;;260      dst[0]=src;
;;;261      
;;;262      uint8_t        hex[] = "0123456789ABCDEF";
;;;263      static uint8_t str[5+2];
;;;264      uint8_t        *pStr = str;
;;;265      
;;;266      *pStr++ = '0';
;;;267      *pStr++ = 'x';
;;;268      
;;;269      // Start from end of addr
;;;270      pAddr += 1;
;;;271      
;;;272      for ( i = 1; i > 0; i-- )
;;;273      {
;;;274        *pStr++ = hex[*--pAddr >> 4];
;;;275        *pStr++ = hex[*pAddr & 0x0F];
;;;276      }
;;;277      
;;;278      //*pStr = 0;
;;;279      str[4]='\r';
;;;280      str[5]='\n';
;;;281      str[6]=0;
;;;282     return str;
;;;283    #else
;;;284      (void)src;
;;;285      return (uint8_t*)0;
000002  2000              MOVS     r0,#0
;;;286    #endif
;;;287    }
000004  4770              BX       lr
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  open_lock_wait_timer_id_data
                          %        32
                  sys_run_led_timer_id_data
                          %        32

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

                  open_lock_wait_timer_id
                          DCD      open_lock_wait_timer_id_data
                  sys_run_led_timer_id
                          DCD      sys_run_led_timer_id_data

                          AREA ||.conststring||, DATA, READONLY, MERGE=1, STRINGS, ALIGN=2

000000  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:open fan negative ion an"
000004  33326d42
000008  53505f42
00000c  544e5f53
000010  57495443
000014  482e633a
000018  494e464f
00001c  3a6f7065
000020  6e206661
000024  6e206e65
000028  67617469
00002c  76652069
000030  6f6e2061
000034  6e      
000035  6420696e          DCB      "d indicator led!\r\n",0
000039  64696361
00003d  746f7220
000041  6c656421
000045  0d0a00  
000048  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:close fan negative ion a"
00004c  33326d42
000050  53505f42
000054  544e5f53
000058  57495443
00005c  482e633a
000060  494e464f
000064  3a636c6f
000068  73652066
00006c  616e206e
000070  65676174
000074  69766520
000078  696f6e20
00007c  61      
00007d  6e642069          DCB      "nd indicator led!\r\n",0
000081  6e646963
000085  61746f72
000089  206c6564
00008d  210d0a00
000091  00                DCB      0
000092  00                DCB      0
000093  00                DCB      0
000094  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:write uv_lamp cmd->len:%"
000098  33326d42
00009c  53505f42
0000a0  544e5f53
0000a4  57495443
0000a8  482e633a
0000ac  494e464f
0000b0  3a777269
0000b4  74652075
0000b8  765f6c61
0000bc  6d702063
0000c0  6d642d3e
0000c4  6c656e3a
0000c8  25      
0000c9  6420636d          DCB      "d cmd:%d current uv_lamp_cmd:%d\r\n",0
0000cd  643a2564
0000d1  20637572
0000d5  72656e74
0000d9  2075765f
0000dd  6c616d70
0000e1  5f636d64
0000e5  3a25640d
0000e9  0a00    
0000eb  00                DCB      0
0000ec  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:write fan_negative_ion c"
0000f0  33326d42
0000f4  53505f42
0000f8  544e5f53
0000fc  57495443
000100  482e633a
000104  494e464f
000108  3a777269
00010c  74652066
000110  616e5f6e
000114  65676174
000118  6976655f
00011c  696f6e20
000120  63      
000121  6d642d3e          DCB      "md->len:%d cmd:%d current fan_negative_ion_cmd:%d\r\n",0
000125  6c656e3a
000129  25642063
00012d  6d643a25
000131  64206375
000135  7272656e
000139  74206661
00013d  6e5f6e65
000141  67617469
000145  76655f69
000149  6f6e5f63
00014d  6d643a25
000151  640d0a00
000155  00                DCB      0
000156  00                DCB      0
000157  00                DCB      0
000158  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:write elec_lock cmd->len"
00015c  33326d42
000160  53505f42
000164  544e5f53
000168  57495443
00016c  482e633a
000170  494e464f
000174  3a777269
000178  74652065
00017c  6c65635f
000180  6c6f636b
000184  20636d64
000188  2d3e6c65
00018c  6e      
00018d  3a256420          DCB      ":%d cmd:%d current elec_lock_cmd:%d\r\n",0
000191  636d643a
000195  25642063
000199  75727265
00019d  6e742065
0001a1  6c65635f
0001a5  6c6f636b
0001a9  5f636d64
0001ad  3a25640d
0001b1  0a00    
0001b3  00                DCB      0
0001b4  1b5b313b          DCB      27,"[1;32mBSP_BTN_SWITCH.c:INFO:onstart uv_lamp_door_sta"
0001b8  33326d42
0001bc  53505f42
0001c0  544e5f53
0001c4  57495443
0001c8  482e633a
0001cc  494e464f
0001d0  3a6f6e73
0001d4  74617274
0001d8  2075765f
0001dc  6c616d70
0001e0  5f646f6f
0001e4  725f7374
0001e8  61      
0001e9  7475733a          DCB      "tus:%d elec_lock_status:%d\r\n",0
0001ed  25642065
0001f1  6c65635f
0001f5  6c6f636b
0001f9  5f737461
0001fd  7475733a
000201  25640d0a
000205  00      

                          AREA ||.data||, DATA, ALIGN=2

                  bsp_btn_switch_local_prescaler
                          DCD      0x00000000
                  open_try_times
000004  03                DCB      0x03

                          AREA ||i.__ARM_common_switch8||, COMGROUP=__ARM_common_switch8, CODE, READONLY, ALIGN=1

                  __ARM_common_switch8 PROC
000000  b430              PUSH     {r4,r5}
000002  4674              MOV      r4,lr
000004  1e64              SUBS     r4,r4,#1
000006  7825              LDRB     r5,[r4,#0]
000008  1c64              ADDS     r4,r4,#1
00000a  42ab              CMP      r3,r5
00000c  d304              BCC      |L89.24|
                  |L89.14|
00000e  5d63              LDRB     r3,[r4,r5]
000010  005b              LSLS     r3,r3,#1
000012  18e3              ADDS     r3,r4,r3
000014  bc30              POP      {r4,r5}
000016  4718              BX       r3
                  |L89.24|
000018  461d              MOV      r5,r3
00001a  e7f8              B        |L89.14|
                          ENDP


;*** Start embedded assembler ***

#line 1 "..\\..\\..\\..\\..\\..\\components\\libraries\\bsp\\bsp_btn_switch.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___16_bsp_btn_switch_c_a7edf30d____REV16|
#line 129 "C:\\Keil_v5\\ARM\\PACK\\ARM\\CMSIS\\4.2.0\\CMSIS\\Include\\core_cmInstr.h"
|__asm___16_bsp_btn_switch_c_a7edf30d____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___16_bsp_btn_switch_c_a7edf30d____REVSH|
#line 144
|__asm___16_bsp_btn_switch_c_a7edf30d____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
